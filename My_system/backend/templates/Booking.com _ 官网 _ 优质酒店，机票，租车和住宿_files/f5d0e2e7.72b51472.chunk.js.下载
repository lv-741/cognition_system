/*! For license information please see f5d0e2e7.72b51472.chunk.js.LICENSE.txt */
(self["b-index-lp-web-mfe__LOADABLE_LOADED_CHUNKS__"]=self["b-index-lp-web-mfe__LOADABLE_LOADED_CHUNKS__"]||[]).push([["f5d0e2e7"],{dcc20038:function(e,t,n){"use strict";n.r(t),n.d(t,{ProgramContext:function(){return lt},default:function(){return ct}});var a=n("e260fc98"),i=n("ead71eb0"),r=n.n(i),o=n("dc6d28ff"),l=n("3d054e81"),s=n("51373183"),c=n("dee2534d"),d=(0,i.createContext)({});var u=function(e){var t=e.openOnLoad,n=e.isMdot,a=e.onAfterClose,o=e.children,u=e.actionBar,m=e.sheetContainerProps,g=e.closeAriaLabel,p=(0,i.useReducer)((function(e){return e&&a&&a(),!e}),"undefined"!==typeof t&&t),v=(0,s.Z)(p,2),f=v[0],_=v[1],k={active:!0,onCloseTrigger:_,position:n?"bottom":"center",closeAriaLabel:g||""},b=(0,i.useState)(null),h=(0,s.Z)(b,2),S=h[0],y=h[1],E=(0,i.useState)(null),N=(0,s.Z)(E,2),O=N[0],x=N[1];return n&&u&&Object.assign(k,{footer:u}),m&&Object.assign(k,m),r().createElement(d.Provider,{value:{isOpen:f,toggle:_,setContent:function(e){return!S&&y(e)},setHeader:function(e){return!O&&x(e)},resetContent:function(e){return y(e)}}},o,f?r().createElement(c.SheetContainer,(0,l.Z)({},O,k),S):null)},m=(d.Consumer,u),g=n("c44dcb0c"),p=n("239beb17"),v=n("cedcabf9"),f=n("41c6c66e"),_=n("28dbd132"),k={kind:"Document",definitions:function(e){var t={};return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!t[n]&&(t[n]=!0,!0)}))}([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"indexVipBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipUIsInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"geniusVipEnrolledProgram"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipNoEnrolledProgram"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipEnrolledProgram"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"metadata"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"programType"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SpendAndUnlockProgramMetadata"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewardPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"upperLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookAndUnlockMetadata"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reward"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SpendAndUnlockReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountTotalUserSpent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookAndUnlockReward"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userProgress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserProgress"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"geniusVipUIs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"indexBanner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IndexUiContent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProgressBar"},directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"indexModal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IndexModal"},directives:[]},{kind:"Field",name:{kind:"Name",value:"modalCategory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uniqueKey"},arguments:[],directives:[]}]}}]}}]}}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"TextWithTranslationTag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TextWithTranslationTag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"BannerImage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"IndexUiContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipBanner"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subtitle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"BannerImage"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionString"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dismissible"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProgressBar"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipBanner"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"progressBar"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"indicators"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"formattedValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]}]}}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"IndexModal"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipInfoModal"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subtitle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"BannerImage"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionDismiss"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"PriceFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Price"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"UserProgress"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookAndUnlockUserProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isOnboarding"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxRewardsReached"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxBookingsReached"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rounds"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"index"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookingsCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewardsSent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewardAmount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isStarted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formattedCurrencies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewardAmount"},arguments:[],directives:[]}]}}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"BookAndUnlockReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookAndUnlockReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountEarned"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"formattedCurrencies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountEarned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amountPendingTotal"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"BookAndUnlockMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookAndUnlockProgramMetadata"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewardPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookingsPerRound"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxRounds"},arguments:[],directives:[]}]}}])),loc:{start:0,end:1114,source:{body:"\n  query indexVipBanner($input: GeniusVipUIsInput) {\n    geniusVipEnrolledProgram(input: $input) {\n      __typename\n      ... on GeniusVipNoEnrolledProgram {\n        reason\n      }\n      ... on GeniusVipEnrolledProgram {\n        metadata {\n          programType\n          ... on SpendAndUnlockProgramMetadata {\n            rewardPercent\n            threshold {\n              ...PriceFields\n            }\n            upperLimit {\n              ...PriceFields\n            }\n          }\n          ...BookAndUnlockMetadata\n        }\n        reward {\n          ... on SpendAndUnlockReward {\n            amountTotalUserSpent {\n              ...PriceFields\n            }\n          }\n          ...BookAndUnlockReward\n        }\n        userProgress {\n          ...UserProgress\n        }\n        geniusVipUIs {\n          indexBanner {\n            ...IndexUiContent\n            ...ProgressBar\n            endDate {\n              text\n            }\n          }\n          indexModal {\n            ...IndexModal\n            modalCategory\n            uniqueKey\n          }\n        }\n      }\n    }\n  }\n\n  \n  \n  \n  \n  \n  \n  \n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var b=function(e,t){return!!e&&t.every((function(t){return null!=e[t]}))};var h,S,y,E=n("01c3b824");E.Qv["en-gb"],E.Qv["en-us"],E.Qv.de,E.Qv.es,E.Qv.fr;!function(e){e.BANNER_VIEW="CAPLA_EVENT_genius_vip_BANNER_VIEW",e.BANNER_CTA_CLICK="CAPLA_EVENT_genius_vip_BANNER_CTA_CLICK",e.BANNER_DISMISS="CAPLA_EVENT_genius_vip_BANNER_DISMISS",e.MODAL_VIEW="CAPLA_EVENT_genius_vip_MODAL_VIEW",e.MODAL_CTA_CLICK="CAPLA_EVENT_genius_vip_MODAL_CTA_CLICK",e.MODAL_DISMISS="CAPLA_EVENT_genius_vip_MODAL_DISMISS",e.REMINDER_MODAL_VIEW="CAPLA_EVENT_genius_vip_REMINDER_MODAL_VIEW",e.REMINDER_MODAL_CTA_CLICK="CAPLA_EVENT_genius_vip_REMINDER_MODAL_CTA_CLICK",e.REMINDER_MODAL_DISMISS="CAPLA_EVENT_genius_vip_REMINDER_MODAL_DISMISS",e.LOGIN_MODAL_VIEW="CAPLA_EVENT_genius_vip_LOGIN_MODAL_VIEW",e.LOGIN_MODAL_CTA_CLICK="CAPLA_EVENT_genius_vip_LOGIN_MODAL_CTA_CLICK",e.LP_VIEW="CAPLA_EVENT_genius_vip_LP_VIEW",e.PROGRESS_CTA_CLICK="CAPLA_EVENT_genius_vip_PROGRESS_CTA_CLICK"}(h||(h={})),function(e){e.INDEX="index",e.SEARCH_RESULTS="searchresults",e.HOTEL="hotel",e.BOOK="book",e.BOOK2="book2",e.CONFIRMATION="confirmation",e.MY_RESERVATIONS="myreservations",e.MY_BOOKING="mybooking",e.WALLET="rewards_and_wallet",e.LP="genius_vip_campaigns"}(S||(S={})),function(e){e.WELCOME="welcome",e.REMINDING="reminding",e.LOGIN="login",e.EXPIRE="expire"}(y||(y={}));var N,O,x="vip_token",I="vip_campaign",C=1680505199e3;!function(e){e.BookAndUnlock="BookAndUnlock",e.FreeRoomUpgrade="FreeRoomUpgrade",e.InstantCredit="InstantCredit",e.InstantDiscount="InstantDiscount",e.InstantVoucher="InstantVoucher",e.OneOffVoucher="OneOffVoucher",e.SpendAndUnlock="SpendAndUnlock"}(N||(N={})),function(e){e.BOOKING_DETAIL="BOOKING_DETAIL",e.BOOKING_PROCESS_1="BOOKING_PROCESS_1",e.BOOKING_PROCESS_2="BOOKING_PROCESS_2",e.CONFIRMATION_PAGE="CONFIRMATION_PAGE",e.INDEX="INDEX",e.LANDING_PAGE="LANDING_PAGE",e.PROPERTY_PAGE="PROPERTY_PAGE",e.ROOM_DETAIL="ROOM_DETAIL",e.SEARCH_RESULTS="SEARCH_RESULTS",e.WALLET="WALLET"}(O||(O={}));var P=n("abab1afe"),L=n("107a8bb5");(0,P.registerDynamicTags)((0,P.t)("date_format","fakeIndex","short_date"));var A,T="short_date",R=n("730a5a32"),w=new Map([["AFA",0],["BHD",3],["BIF",0],["BYR",0],["CLP",0],["COP",0],["DJF",0],["ECS",0],["GNF",0],["HUF",0],["IDR",0],["IQD",3],["ISK",0],["JOD",3],["JPY",0],["KMF",0],["KRW",0],["KWD",3],["LAK",0],["LYD",3],["MGA",0],["MZM",0],["OMR",3],["PYG",0],["RWF",0],["TJR",0],["TMM",0],["TND",3],["TWD",0],["UGX",0],["VND",0],["VUV",0],["XAF",0],["XOF",0],["XPF",0],["RUB",0]]),F=Object.freeze({CEIL:"CEIL",FLOOR:"FLOOR"}),D=new Map([["AFA",F.CEIL],["BIF",F.FLOOR],["BYR",F.FLOOR],["CLP",F.FLOOR],["DJF",F.FLOOR],["ECS",F.FLOOR],["GNF",F.FLOOR],["IDR",F.FLOOR],["ISK",F.FLOOR],["JPY",F.FLOOR],["KMF",F.FLOOR],["KRW",F.FLOOR],["LAK",F.FLOOR],["MGA",F.FLOOR],["MZM",F.FLOOR],["PYG",F.FLOOR],["RUB",F.FLOOR],["RWF",F.FLOOR],["TJR",F.FLOOR],["TMM",F.FLOOR],["TWD",F.FLOOR],["UGX",F.FLOOR],["VND",F.FLOOR],["VUV",F.FLOOR],["XAF",F.FLOOR],["XOF",F.FLOOR],["XPF",F.FLOOR]]),B=new Map([["HUF",5],["COP",20]]),M=new Map([["bg","."],["es",","],["es-mx","."],["hu","."]]),U=new Map([["bg","\xa0"],["et","\xa0"],["es","."],["es-ar","."],["es-mx",","],["fr","\xa0"],["hi",","],["ka","\xa0"],["lv","\xa0"],["pl","\xa0"],["pt-br","."],["pt-pt","\xa0"]]),j=new Map([["CNY-zh-cn",""],["GBP",""],["KRW-ko",""],["JPY",""],["USD",""]]),V=new Map([["ARS","AR$"],["ARS-country-ar","$"],["BRL","R$"],["CLP","CL$"],["CLP-country-cl","$"],["CNY-zh-cn","\u5143"],["CZK","K\u010d"],["GBP","\xa3"],["EUR","\u20ac"],["HKD","HK$"],["IDR","Rp"],["ILS","\u20aa"],["ISK-is","kr."],["INR","Rs."],["INR-country-in","\u20b9"],["JPY","\xa5"],["JPY-ja","\uffe5"],["KRW-ko","\u20a9"],["KWD-ar","\u062f.\u0643."],["PHP","\u20b1"],["PLN","z\u0142"],["RUB-ru","\u0440\u0443\u0431."],["RON","lei"],["SGD","S$"],["USD","US$"],["USD-us-en-us","$"],["TRY","TL"],["XPF","CFP"]]),Z=new Map([["CNY-zh-cn","after"],["CZK","after"],["ILS-ar","after"],["ILS-he","after"],["ISK-is","after"],["PLN","after"],["RON","after"],["RUB-ru","after"]]),W=new Map,G=function(e,t,n){var a=Number.isInteger(t)?e+"__"+n+"__int":e+"__"+n;if(!W.has(a)){var i={style:"currency",currency:e,currencyDisplay:"code",numberingSystem:"latn",minimumFractionDigits:z(e,t)},r=new Intl.NumberFormat(n,i);W.set(a,r)}return W.get(a)};function K(e,t,n,a,i){void 0===i&&(i=!0),n=n.toLowerCase();var r=(0,R.CR)(n.split("-"),1)[0];if(D.get(e))if(D.get(e)===F.CEIL){var o=.5;t=Math.ceil(t/o)*o}else{var l=t-.5;t=Number(Math.round((Number.isInteger(l)?l:t)/1))}else if(B.get(e)){o=B.get(e)||1;t=Math[t%o<=.5?"floor":"ceil"](t/o)*o}var s=G(e,t,n).formatToParts(t);return"he"===r&&"literal"===s[0].type&&s.shift(),s=function(e,t,n){if(0!==z(t,n))return e;for(var a=e.length-1;a>=0;a--)if("fraction"===e[a].type||"decimal"===e[a].type)e.splice(a,1);else if("integer"===e[a].type)return e;return e}(s,e,t),s=function(e,t,n){var a=function(e,t){var n=(0,R.CR)(e.split("-"),1),a=n[0];if(Z.has(t+"-"+e))return Z.get(t+"-"+e);if(Z.has(t+"-"+a))return Z.get(t+"-"+a);if(Z.has(t))return Z.get(t);return"before"}(t,n);if("currency"===e[0].type&&"after"===a){var i=e.shift(),r=e.shift();e.push(r),e.push(i)}else if("currency"===e[e.length-1].type&&"before"===a){i=e.pop(),r=e.pop();e.unshift(r),e.unshift(i)}return e}(s,n,e),s=function(e,t){var n=(0,R.CR)(t.split("-"),1),a=n[0];if(["bg","es","et","hi","ka","lv","pl","pt"].indexOf(a)<0)return e;var i=H(t,"\xa0"),r=[],o=[];e=e.filter((function(e){return"group"!==e.type}));for(;"integer"!==e[0].type;)o.push(e.shift());for(;e.length>0&&"integer"===e[0].type;)r=r.concat(e[0].value.split("")),e.shift();for(var l="",s=r.length-1;s>=0;s--)(l=r.pop()+l).length%3===0&&(e.unshift({type:"integer",value:l}),r.length>0&&e.unshift({type:"group",value:i}),l="");""!==l&&e.unshift({type:"integer",value:l});return e=o.concat(e),e}(s,n),s.map((function(t){var r=t.type,o=t.value;switch(r){case"group":return H(n,o);case"decimal":return function(e,t){var n=(0,R.CR)(e.split("-"),1),a=n[0];if(M.has(e))return M.get(e);if(M.has(a))return M.get(a);return t}(n,o);case"currency":return i?function(e,t,n){var a=(0,R.CR)(e.split("-"),1),i=a[0];if(V.has(t+"-"+e))return V.get(t+"-"+e);if(n&&V.has(t+"-"+n+"-"+e))return V.get(t+"-"+n+"-"+e);if(n&&V.has(t+"-country-"+n))return V.get(t+"-country-"+n);if(V.has(t+"-"+i))return V.get(t+"-"+i);if(V.has(t))return V.get(t);return t}(n,o,a):"";case"literal":return i?function(e,t,n){var a=(0,R.CR)(t.split("-"),1),i=a[0];if(j.has(e+"-"+t))return j.get(e+"-"+t);if(j.has(e+"-"+i))return j.get(e+"-"+i);if(j.has(e))return j.get(e);return n}(e,n,o):"";default:return o}})).reduce((function(e,t){return e+t}))}function z(e,t){return Number.isInteger(t)?0:w.get(e)}function H(e,t){var n=(0,R.CR)(e.split("-"),1)[0];return U.has(e)?U.get(e):U.has(n)?U.get(n):t}var X,Y,q,J,Q=function(){return Date.now()-C>0||(0,p.isFeatureRunning)((0,p.feature)(A||(A=(0,a.Z)(["cQYIMdUTNOUbWNHGHbfEGfMKMLdeLSfBUUGXC"]))))},$=function(e,t){if(!e)return{indexModal:{},modalCatgory:y.EXPIRE};var n=function(e,t){if(!e)return null;var n=(0,o.getRequestContext)().getLanguage(),a=(0,o.getRequestContext)().getVisitorCountry()||"",i=e.get(x),r=e.get(I),l=K("USD",25,n,a),s=e.get("vip_signature"),c=e.get("offlineModalShown");if(!i||!r||c||!s)return null;var d=Q(),u=new Date(1680479999e3);return{campaignExpired:d,programType:r,voucherValueFormatted:l,expirationDateFormatted:(0,L.p6)(t,{date:"".concat(u.getUTCFullYear(),"-").concat(u.getUTCMonth()+1,"-").concat(u.getUTCDate()),form:T})}}(e,t);return n?n.campaignExpired?{indexModal:ee(t),modalCatgory:y.EXPIRE}:{indexModal:te(t,n.voucherValueFormatted,n.expirationDateFormatted),modalCatgory:y.LOGIN}:{indexModal:{},modalCatgory:y.EXPIRE}},ee=function(e){return{title:e.trans((0,P.t)("vip_offline_oneoff_bottom_sheet_expire_title")),subtitle:e.trans((0,P.t)("vip_offline_oneoff_bottom_sheet_expire_description")),cta:[{text:e.trans((0,P.t)("vip_offline_oneoff_bottom_sheet_expire_cta")),actionDismiss:!0}],asset:"https://bstatic.com/data/mobile/voucherExpired.png",campaignExpired:!0}},te=function(e,t,n){var a=(0,o.getRequestContext)().getBasePageUrl();return{title:e.trans((0,P.t)("vip_offline_oneoff_bottom_sheet_sign_in_title",{variables:{voucher_value:t}})),subtitle:e.trans((0,P.t)("vip_offline_oneoff_bottom_sheet_sign_in_description",{variables:{exp_date:n}})),cta:[{text:e.trans((0,P.t)("vip_offline_oneoff_bottom_sheet_sign_in_cta")),actionString:"index",actionParams:{login_redirect:a.toString()}}],asset:"https://bstatic.com/data/mobile/voucheractive.png",campaignExpired:!1}};var ne=n("00d29d3a"),ae={marginBottom1x:"f420f6bbf2",dismissedBannerWrapper:"eea513fff0",bannerWrapper:"c72aded5f7",banner:"c82d14d624",modern:"de712accea",bannerTitle:"e7ce666a86",progrssionBarWrapper:"dccdf01c32",vipHighlight:"d6bedc5a57"},ie=n("cfcd5c4a"),re=n("58a2abd5"),oe=["name","content","defaults","isLoading","loaderProps"];function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e){var t=e.name,n=e.onClick,a=e.callback,i=e.href,o=e.newTab,s=e.content,d=e.isLoading,u=e.loaderProps;if(d)return r().createElement(c.SkeletonLoader,(0,l.Z)({attributes:{"data-testid":t}},u));if(a){return r().createElement(c.Actionable,{onClick:function(e){n?n(e):i&&(o?window.open(i,"_blank"):window.location.href=i),a()}},s)}return n?r().createElement(c.Actionable,{onClick:n},s):r().createElement(c.Actionable,{href:i,attributes:o?{target:"_blank"}:{}},s)}function de(e){var t=e.name,n=e.content,a=e.defaults,i=e.isLoading,o=e.loaderProps,s=(0,re.Z)(e,oe);return i?r().createElement(c.SkeletonLoader,(0,l.Z)({attributes:{"data-testid":t}},o)):n?r().createElement(c.Text,(0,l.Z)({},a,s),n):null}function ue(e){var t=e.forwardedRef,n=e.headline,a=e.image,o=e.imagePosition,s=e.imageClassName,d=e.imageLoaderProps,u=e.textBlock,m=e.suptitle,g=e.title,p=e.subtitle,v=e.action,f=e.containerProps,_=e.horizontalLayoutProps,k=e.textLayoutProps,b=e.actionLayoutProps,h=e.ctaLayoutProps,S=e.extraColumnLayoutProps,y=e.dismissibleProps,E=e.extraColumnProps,N=e.headlineGap,O=e.isLoading,x=null;v&&(x=v instanceof Array?v.map((function(e){return r().createElement(ce,(0,l.Z)({key:"action",name:"action"},e,{isLoading:O}))})):r().createElement(ce,(0,l.Z)({},v,{name:"action",isLoading:O})));var I=u||r().createElement(c.Stack,{gap:0},m?r().createElement(c.Stack.Item,null,r().createElement(de,(0,l.Z)({name:"suptitle",isLoading:O,loaderProps:null===m||void 0===m?void 0:m.loaderProps,variant:"body_1",content:"object"===(0,ie.Z)(m)?null===m||void 0===m?void 0:m.children:m},"string"!==typeof m&&m))):null,r().createElement(c.Stack.Item,null,r().createElement(c.Stack,(0,l.Z)({direction:"row"},S),r().createElement(c.Stack.Item,{grow:!0},r().createElement(c.Stack,k,r().createElement(c.Stack.Item,null,g?r().createElement(de,(0,l.Z)({name:"title",isLoading:O,loaderProps:null===g||void 0===g?void 0:g.loaderProps,variant:"featured_1",content:"object"===(0,ie.Z)(g)?null===g||void 0===g?void 0:g.children:g},"string"!==typeof g&&g)):null),p?r().createElement(c.Stack.Item,null,r().createElement(de,(0,l.Z)({name:"subtitle",isLoading:O,loaderProps:null===p||void 0===p?void 0:p.loaderProps,color:"neutral_alt",content:"object"===(0,ie.Z)(p)?null===p||void 0===p?void 0:p.children:p},"string"!==typeof p&&p))):null)),E?r().createElement(c.Stack.Item,E,E.content):null))),C=y?c.DismissibleContainer:i.Fragment;return f&&Object.assign(f,se(se({},f),{},{attributes:se(se({},null===f||void 0===f?void 0:f.attributes),{},{ref:t})})),r().createElement(c.Box,f,r().createElement(C,y,r().createElement(c.Stack,{gap:N},n?r().createElement(c.Stack.Item,null,r().createElement(de,(0,l.Z)({name:"headline",isLoading:O,loaderProps:null===n||void 0===n?void 0:n.loaderProps,variant:"headline_2",content:"object"===(0,ie.Z)(n)?null===n||void 0===n?void 0:n.children:n},"string"!==typeof n&&n))):null,r().createElement(c.Stack.Item,null,r().createElement(c.Stack,(0,l.Z)({},_,{direction:"right"===o?"row-reverse":"row"}),a?r().createElement(c.Stack.Item,{className:s},O?r().createElement(c.SkeletonLoader,(0,l.Z)({attributes:{"data-testid":"image"}},d)):a):null,r().createElement(c.Stack.Item,{grow:!0},r().createElement(c.Stack,(0,l.Z)({gap:6},b),r().createElement(c.Stack.Item,null,I),x?r().createElement(c.Stack.Item,null,r().createElement(c.Stack,(0,l.Z)({direction:"row"},h),x)):null)))))))}var me=(0,i.forwardRef)((function(e,t){return r().createElement(ue,(0,l.Z)({},e,{forwardedRef:t}))}));me.displayName="CampaignBannerWithRef";var ge=n("d0fefcf5"),pe={progressionBarWrapper:"a213669eee",progressionBar:"bd6e6e573f","progressionBar--small":"a1f386fa1f",progressionBarFiller:"feea691fa5",filler:"cd9ff090c6",progressionBarIndicator:"cdab232c3e","progressionBarIndicator--longText":"d463dc7303",progressionBarIndicatorStart:"bb284785b4",progressionBarIndicatorEnd:"beb419b55c",lightup:"c80533ec84"},ve=n("8521b397"),fe=n.n(ve),_e=n("d1e54a96");function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var be=function(e){if(!e.progress||e.indicators.length<5)return null;var t,n,a,i,o,l=(0,_e.isRTL)(),s=(t=e.progress,n=e.upperLimit,a=e.threshold,i=e.indicators,o=e.size,t<=a?"large"===o?i.slice(2):i.slice(2,4):t>a&&t<n-a?"large"===o?i.slice(1,4):i.slice(1,3):t===n-a?"large"===o?i.slice(1,4):i.slice(2,4):"large"===o?i.slice(0,3):i.slice(1,3)),c=function(t,n,a,i){var r={large:n-2*a,medium:n-a,small:n-a},o="large"===e.size&&t>r[e.size],s="large"!==e.size&&t>=r[e.size],c=o||s,d=(t-(o?i[0].value:i[0].value-a))/(c?2*a:(i.length+1)*a)*100+"%";if("small"===e.size)return{fillerLengthPercentage:d};var u=c?.5:Math.round(1/(i.length+1)*100)/100,m=o?0:u,g=i.map((function(t,n){var a=t.formattedValue.length>15,r=l?100*(1-(m+n*u))+"%":100*(m+n*u)+"%",o="white",s="none",g="unset",p=l?100-parseInt(r):parseInt(r);p<=parseInt(d)&&(o="#FEBB02",s="".concat(pe.lightup),g=p?"".concat(1/parseInt(d)*p*1e3+100,"ms"):"unset");var v={left:"calc(".concat(r," - ").concat("5px",")"),backgroundColor:o,animationName:s,animationDuration:g},f=fe()(pe.progressionBarIndicator,a&&pe["progressionBarIndicator--longText"]);return c&&(n===i.length-1?(Object.assign(v,l?{left:0,right:"unset"}:{left:"unset",right:0}),f=fe()(pe.progressionBarIndicator,a&&pe["progressionBarIndicator--longText"],pe.progressionBarIndicatorEnd)):"large"===e.size&&0===n&&(Object.assign(v,l?{right:0}:{left:0}),f=fe()(pe.progressionBarIndicator,a&&pe["progressionBarIndicator--longText"],pe.progressionBarIndicatorStart))),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:"indicator_".concat(n),style:v,className:f},t)}));return{fillerLengthPercentage:d,indicators:g}}(e.progress,e.upperLimit,e.threshold,s),d=fe()(pe.progressionBar,"small"===e.size&&pe["progressionBar--small"]),u=fe()(pe.progressionBarFiller,"small"===e.size&&pe["progressionBar--small"]);return r().createElement("div",{className:pe.progressionBarWrapper},r().createElement("div",{className:d},r().createElement("div",{className:u,style:{width:c.fillerLengthPercentage}})),c&&c.indicators&&c.indicators.map((function(e){return r().createElement("div",{key:e.id,className:e.className,style:e.style,"data-indicator-label":e.formattedValue})})))},he={"vip-highlight":"vip-highlight","vip-link":"vip-link","vip-bold":"vip-bold","vip-black-bold":"vip-black-bold","vip-semi-bold":"vip-semi-bold"},Se=Object.keys(he),ye=new RegExp("(".concat("<","|").concat("</",")(").concat(Se.join("|"),")(-[0-9]+)*>"),"g"),Ee=function(e,t,n,a,i){return i?r().createElement(t,{key:a,href:i,className:n},e):r().createElement(t,{key:a,className:n},e)},Ne=function(e,t){if(!e)return"";for(var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"span",i=Object.assign({},he,t),r=[],o=[],l=0,c=arguments.length,d=new Array(c>3?c-3:0),u=3;u<c;u++)d[u-3]=arguments[u];for(;null!==(n=ye.exec(e));){var m=n,g=(0,s.Z)(m,4),p=g[1],v=g[2],_=g[3];switch(p){case"<":l!==ye.lastIndex&&0!==ye.lastIndex&&(o.length?o[o.length-1].temp.push(e.slice(l,n.index)):r.push(e.slice(l,n.index))),o.push({rule:v,temp:[]}),l=ye.lastIndex;break;case"</":var k=o.pop();if(k&&k.rule===v){var b="vip-link"===v,h=void 0;if(b)if("string"===typeof _)h=d[+_.substring(1)-1];else h=d.shift();o.length?(k.temp.push(e.substring(l,n.index)),o[o.length-1].temp.push(Ee(k.temp,b?"a":a,i[v],l,b?h:""))):(l!==n.index&&k.temp.push(e.substring(l,n.index)),r.push(Ee(k.temp,b?"a":a,i[v],l,b?h:"")))}else o.length?o[o.length-1].temp.push(e.substring(l,n.index)):r.push(e.substring(l,n.index)),(0,f.reportWarning)("copyTagParser found tags mismatch in [".concat(e,"]"));l=ye.lastIndex}}for(var S=o.pop();S;)o.length?o[o.length-1].temp.push(S.temp):r.push(S.temp),S=o.pop();return l!==e.length&&r.push(e.slice(l,e.length)),r},Oe={index:"app",searchresults:"app",hotel:"app",genius:"app",genius_vip:"app",genius_vip_campaigns:"app",vip_oneoff_voucher_tnc:"app",book:"book",confirmation:"book",mybooking:"book",myreservations:"book",rewards_and_wallet:"book",help:"book","":"app"},xe=function(e){return Ie.test(e)?"app":Ce.test(e)?"book":Oe[e]},Ie=/^(content\/)(terms|wallet-terms)/,Ce=/^(rewards_and_wallet\/)/,Pe=function(e){return e.indexOf("voucher")>-1?{page_type:"legacy"}:{}};function Le(e,t,n){var a=(0,o.getRequestContext)().getLanguage(),i=e.split("#"),r=(0,s.Z)(i,2),l=r[0],c=r[1],d=xe(l)||void 0,u=new URLSearchParams;if(t&&u.append("src",t),n)for(var m=0,g=Object.entries(n);m<g.length;m++){var p=(0,s.Z)(g[m],2),v=p[0],f=p[1];u.append(v,f)}for(var _=Pe(l),k=0,b=Object.entries(_);k<b.length;k++){var h=(0,s.Z)(b[k],2),S=h[0],y=h[1];u.append(S,y)}var E="en-us"===a?"/".concat(l,".html"):"/".concat(l,".").concat(a,".html"),N=(0,_e.constructUrl)({host:d,pathname:E,searchParams:u});return c?"".concat(N.toString(),"#").concat(c):N.toString()}var Ae=n("975f4b85"),Te=function(e){var t=(0,Ae.YD)({threshold:0,triggerOnce:!0}),n=(0,s.Z)(t,2),a=n[0],r=n[1];return(0,i.useEffect)((function(){r&&e&&e()}),[r,e]),a},Re=function(e,t){var n=(0,i.useRef)(!1);return(0,i.useCallback)((function(){e&&t&&(n.current||(ge.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_VIEW",{campaign:t,actionName:e}),n.current=!0))}),[e,t])},we=n("32100371"),Fe={sliderContainer:"a5e5f2c30e",innerWrapper:"ec0695d8bb",gappedSlider:"b2a34b3a24",indicatorContainer:"f1d2559f9d",indicator:"c03b4a5a61","indicator--dot":"cd114cfb51","indicator--bar":"d1e8980d1e"};function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=function(e){var t=e.children,n=e.indicatorStyle,a=e.speed,o=void 0===a?1e3:a,l=e.transitionSpeed,c=void 0===l?600:l,d=e.slideWidth,u=e.wrapperClassName,m=e.gap,g=void 0===m||m,p=i.Children.toArray(t),v=p.length,f=(0,we.Z)(p.keys()),_=(0,i.useState)({currentIndex:0,translateX:0,transitionStyle:"transform ".concat(c,"ms ease-out"),_slider:p}),k=(0,s.Z)(_,2),b=k[0],h=k[1],S=(0,_e.isRTL)(),y=b.currentIndex,E=b.translateX,N=b.transitionStyle,O=b._slider,x=(0,i.useState)({}),I=(0,s.Z)(x,2),C=I[0],P=I[1],L=(0,i.useRef)(0),A=(0,i.useRef)(null),T=(0,i.useRef)(0);(0,i.useEffect)((function(){var e;T.current=Math.max((null===(e=A.current)||void 0===e?void 0:e.clientHeight)||0,T.current),T.current>0&&P({height:"".concat(T.current,"px")})}),[t]);var R=function(){h(Be(Be({},b),{},{currentIndex:L.current<v-1?L.current+1:0,translateX:d,transitionStyle:"transform ".concat(c,"ms ease-out")}))};return(0,i.useEffect)((function(){var e;return L.current=y,v>=2&&(e=window.setInterval(R,o)),function(){e&&window.clearInterval(e)}})),r().createElement("div",{className:u,style:{width:"".concat(d,"px")}},v<2?t:r().createElement(r().Fragment,null,r().createElement("div",{className:Fe.sliderContainer,ref:A,style:C},r().createElement("div",{className:fe()(Fe.innerWrapper,g&&Fe.gappedSlider),style:{transform:S?"translateX(".concat(E,"px)"):"translateX(-".concat(E,"px)"),transition:"".concat(N)},onTransitionEnd:function(){var e=p.slice(L.current,L.current+2);v>1&&e.length<2&&e.push(p[0]),h(Be(Be({},b),{},{translateX:0,transitionStyle:"",_slider:e}))}},O)),r().createElement("div",{className:Fe.indicatorContainer},f.map((function(e,t){return r().createElement("div",{key:e,className:fe()(Fe.indicator,Fe["indicator--".concat(n)]),style:t===y?{opacity:1}:{opacity:.3}})})))))},Ue={badgeContainer:"ec20d38fa6",medium:"a9db490d31",small:"e7f5203cea",large:"e7446efd24",badgeRingContainer:"d839968fd2",ring:"d6971c0918",blue:"af9f422cee",progress:"d6f8aa6d40",golden:"eed9a75a5b",text:"ccdcfe57e4",badgeCompletedNumber:"a67778fd88",badgeTotalNumber:"b8f0ab5140",badgeNoBookingNumber:"fd56063d48",inner:"e1c4642331",iconImg:"ad1484d069",badgeText:"e3a347e3f9",progressText:"c3de020998",size80:"bbfe2a559f",progressRing:"cc4564610e"},je=function(e){var t=e.badgeSize,n=e.className,a=e.angle,i=void 0===a?90:a,o=e.radius,l=void 0===o?55:o,s=e.strokeWidth,c=void 0===s?10:s,d=e.gap,u=void 0===d?8:d,m=e.currentStep,g=void 0===m?3:m,p=e.totalSteps,v=void 0===p?5:p,f=e.theme,_=void 0===f?"blue":f,k=e.children,b={strokeWidth:t?10:c,gap:t?8:u,radius:t?55:l,angle:t?90:i},h=2*b.radius+b.strokeWidth,S=h/2,y=S-Math.sin(i/2/180*Math.PI)*b.radius,E=S+Math.sin(i/2/180*Math.PI)*b.radius,N=S+Math.cos(i/2/180*Math.PI)*b.radius,O="M ".concat(y," ").concat(N," A ").concat(b.radius," ").concat(b.radius," 0 ").concat(+(i<180)," 1 ").concat(E," ").concat(N),x=Math.PI*b.radius*(360-i)/180,I=(x-b.gap*(v-1))/v-b.strokeWidth*(v-1)/v,C="".concat(I,"px ").concat(b.gap+b.strokeWidth,"px"),P=g>0?{strokeDasharray:u>0?"".concat((C+" ").repeat(g-1)," ").concat(I,"px ").concat(x,"px"):"".concat(x*g/v,"px ").concat(x,"px")}:void 0;return r().createElement("div",{className:fe()(n,Ue.badgeContainer,t&&Ue[t])},r().createElement("div",{className:fe()(Ue.badgeRingContainer,Ue[_])},r().createElement("svg",{viewBox:"0 0 ".concat(h," ").concat(h),fill:"none"},r().createElement("g",{transform:"scale(1,1)"},r().createElement("path",{d:O,className:Ue.ring,strokeWidth:b.strokeWidth||c,strokeDasharray:u>0?C:void 0}),g>0?r().createElement("path",{d:O,style:P,className:fe()(Ue.ring,Ue.progress),strokeWidth:b.strokeWidth||c}):null)),k?r().createElement("div",{className:Ue.inner},k):null))};je.Text=function(e){var t=e.badgeSize,n=e.currentStep,a=e.totalSteps,i=e.theme,o=e.className,l={small:{completedTextSize:"headline_2",totalTextSize:"body_2"},medium:{completedTextSize:"headline_1",totalTextSize:"featured_3"},large:{completedTextSize:"headline_1",totalTextSize:"strong_1"}}[t||"medium"];return r().createElement("div",{className:fe()(Ue.badgeText,o,i&&Ue[i])},r().createElement(c.Text,{variant:l.completedTextSize,className:fe()(Ue.text,n>0?Ue.badgeCompletedNumber:Ue.badgeNoBookingNumber)},Math.max(0,n)),r().createElement(c.Text,{variant:l.totalTextSize,className:fe()(Ue.text,n>0?Ue.badgeTotalNumber:Ue.badgeNoBookingNumber)},"/",a))};var Ve=je,Ze=function(e){var t=e.size,n=void 0===t?"medium":t,a=e.theme,i=void 0===a?"blue":a,o=e.bookingsCount,s=e.maxCount,d=e.rewardsSent,u=e.isGappedRing,m=void 0===u||u,g=e.iconSrc,p=e.additionalText,v=d?"https://bstatic.com/xdata/images/xphoto/max300/155161147.png?k=d70408f26332684fc7ad8476baf145813e2e71a7d8d89a40645bcc97cda6f00e&o=":"https://bstatic.com/xdata/images/xphoto/max300/155161149.png?k=02a71e2df8269c8f9783c405dcc3854ef4a727b739a7202aed1caa64dae5141a&o=",f={small:"48px",medium:"64px",large:"70px"}[n],_={badgeSize:n,theme:i,currentStep:o,totalSteps:s,gap:m?8:0,radius:60,angle:100};return r().createElement(c.Stack,{gap:null===p||void 0===p?void 0:p.gap,alignItems:"center"},r().createElement(c.Stack.Item,null,r().createElement("div",{className:Ue.progressRing},r().createElement(Ve,_,r().createElement(c.Image,{src:g||v,fallback:null,width:f,height:f,className:fe()(Ue.iconImg,n)}),r().createElement(Ve.Text,(0,l.Z)({},_,{className:Ue.progressText}))))),null!==p&&void 0!==p&&p.content.length?r().createElement(c.Stack.Item,null,r().createElement(c.Text,p.textProps,p.content)):null)};function We(e){var t,n=(0,i.useContext)(lt).programType,a=e.asset,o=e.title,s=e.subtitle,d=e.endDate,u=e.progressBar,m=e.cta,g=e.bookAndUnlockRounds,p=u&&u.progress>0,v=function(e){return e?Le(e||"","index",{banner:"index"}):""},f=function(){ge.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_CTA_CLICK",{campaign:n,actionName:"index"})},_={containerProps:{backgroundColor:"brand_primary",className:ae.banner},horizontalLayoutProps:{alignItems:"center",gap:8},image:r().createElement(c.Image,{width:"144px",height:"144px",src:a,fallback:null}),title:{children:Ne(o,{"vip-highlight":ae.vipHighlight}),variant:"headline_3",className:p?ae.bannerTitle:""},suptitle:{children:d,variant:"body_2",className:p?"":ae.marginBottom1x},subtitle:p?void 0:{children:s,variant:"body_1",color:"white"},extraColumnProps:{content:u&&r().createElement(be,(0,l.Z)({},u,{size:"medium"})),className:p?ae.progrssionBarWrapper:void 0},extraColumnLayoutProps:{alignItems:"end"},action:null===m||void 0===m?void 0:m.map((function(e){return{content:r().createElement(c.Button,{text:e.text,variant:"primary",size:"medium"}),href:v(e.actionString),callback:f}})),actionLayoutProps:{gap:4}},k={containerProps:{backgroundColor:"brand_primary",className:fe()(ae.banner,ae.modern),padding:4},horizontalLayoutProps:{alignItems:"stretch",gap:4},imagePosition:"right",image:g?r().createElement(Me,{speed:4e3,indicatorStyle:"bar",slideWidth:92},g.map((function(e){return r().createElement(Ze,(0,l.Z)({},e.ringProps,{key:"slider_".concat(e.index)}))}))):r().createElement(c.Image,{width:120,height:120,src:a,fallback:null}),action:null===m||void 0===m?void 0:m.map((function(e){return{content:r().createElement(c.Button,{text:e.text,variant:"primary",size:"medium"}),href:v(e.actionString),callback:f}})),actionLayoutProps:{gap:8,justifyContent:"space-between"},textBlock:r().createElement(c.Stack,{gap:1},d?r().createElement(c.Stack.Item,null,r().createElement(c.Text,{color:"white",variant:"body_2"},d)):null,r().createElement(c.Stack.Item,null,r().createElement(c.Text,{color:"white",variant:"headline_3"},Ne(o,{"vip-highlight":ae.vipHighlight}))),s?r().createElement(c.Text,{color:"white",variant:"body_1"},s):null)},b={containerProps:{backgroundColor:"brand_primary",className:fe()(ae.banner,ae.modern)},imagePosition:"right",horizontalLayoutProps:{alignItems:"center",gap:8},image:r().createElement(c.Image,{width:"144px",height:"144px",src:a,fallback:null}),textLayoutProps:{gap:1},title:{children:Ne(o,{"vip-highlight":ae.vipHighlight}),variant:"headline_3",className:ae.bannerTitle},subtitle:{children:Ne(s),color:"white",variant:"body_1"},action:null===m||void 0===m?void 0:m.map((function(e){return{content:r().createElement(c.Button,{variant:"primary",text:e.text,size:"medium"}),href:v(e.actionString),callback:f}})),actionLayoutProps:{gap:8}},h=(t={},(0,ne.Z)(t,N.BookAndUnlock,k),(0,ne.Z)(t,N.InstantDiscount,b),(0,ne.Z)(t,N.SpendAndUnlock,_),(0,ne.Z)(t,N.InstantCredit,_),(0,ne.Z)(t,N.FreeRoomUpgrade,{}),(0,ne.Z)(t,N.OneOffVoucher,{}),(0,ne.Z)(t,N.InstantVoucher,_),t),S=Re("index",n),y=Te(S);return r().createElement(me,(0,l.Z)({},h[n],{ref:y}))}var Ge=n("91e54883");function Ke(e){var t,n,a=(0,g.useI18n)(),s=null===(t=(0,o.getRequestContext)().getUserIdentity())||void 0===t?void 0:t.userId,d=s?s+" banner":"genius_vip_campaigns_index_banner",u=(0,Ge.c)(d,864e5),m=u.dismissed,p=u.closeDismissibleItem,v=(0,i.useContext)(lt).programType,f=function(){ge.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_DISMISS",{campaign:v,actionName:"index"}),p()},_=e.asset,k=e.title,b=e.subtitle,h=e.endDate,S=e.progressBar,y=e.cta,E=e.bookAndUnlockRounds,O=S&&S.progress>0,x=function(e){return Le(e||"","index",{banner:"index"})},I=function(){ge.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_CTA_CLICK",{campaign:v,actionName:"index"})},C={containerProps:{backgroundColor:"brand_primary",className:ae.banner},horizontalLayoutProps:{alignItems:"center",gap:4},image:r().createElement(c.Image,{width:"96px",height:"96px",src:_,fallback:null}),textBlock:r().createElement(c.Stack,{gap:2},r().createElement(c.Text,{variant:"small_1"},h),r().createElement(c.Text,{variant:"strong_1"},Ne(k,{"vip-highlight":ae.vipHighlight})),O&&S&&r().createElement(be,(0,l.Z)({},S,{size:"small"}))),action:null===y||void 0===y?void 0:y.map((function(e){return{content:r().createElement(c.Button,{text:e.text,variant:"primary",size:"medium"}),href:x(e.actionString||""),callback:I}})),dismissibleProps:{buttonColor:"inherit",closeAriaLabel:a.trans((0,P.t)("gc_banner_accessibility_close")),onClose:f},actionLayoutProps:{gap:4}},L={containerProps:{backgroundColor:"brand_primary",className:ae.banner},horizontalLayoutProps:{alignItems:"center",gap:4},imagePosition:"right",image:E?r().createElement(Me,{speed:4e3,indicatorStyle:"bar",slideWidth:92},E.map((function(e){return r().createElement(Ze,(0,l.Z)({},e.ringProps,{key:"slider_".concat(e.index)}))}))):r().createElement(c.Image,{width:84,height:84,src:_,fallback:null}),action:null===y||void 0===y?void 0:y.map((function(e){return{content:r().createElement(c.Button,{text:e.text,variant:"primary",size:"medium"}),href:x(e.actionString||""),callback:I}})),actionLayoutProps:{gap:8},textBlock:r().createElement(c.Stack,{gap:2},h?r().createElement(c.Stack.Item,null,r().createElement(c.Text,{color:"white",variant:"small_1"},h)):null,r().createElement(c.Stack.Item,null,r().createElement(c.Text,{color:"white",variant:"strong_1"},Ne(k,{"vip-highlight":ae.vipHighlight}))),b?r().createElement(c.Text,{color:"white",variant:"small_1"},b):null)},A={containerProps:{backgroundColor:"brand_primary",className:ae.banner},horizontalLayoutProps:{alignItems:"center",gap:4},image:r().createElement(c.Image,{width:"84px",height:"84px",src:_,fallback:null}),textLayoutProps:{gap:2},title:{children:Ne(k,{"vip-highlight":ae.vipHighlight}),variant:"strong_1"},suptitle:{children:Ne(h),color:"white",variant:"small_1"},dismissibleProps:{buttonColor:"inherit",closeAriaLabel:a.trans((0,P.t)("gc_banner_accessibility_close")),onClose:f},action:null===y||void 0===y?void 0:y.map((function(e){return{content:r().createElement(c.Button,{text:e.text,variant:"primary",size:"medium"}),href:x(e.actionString||""),callback:I}})),actionLayoutProps:{gap:8}},T=(n={},(0,ne.Z)(n,N.BookAndUnlock,L),(0,ne.Z)(n,N.InstantDiscount,A),(0,ne.Z)(n,N.SpendAndUnlock,C),(0,ne.Z)(n,N.InstantCredit,C),(0,ne.Z)(n,N.FreeRoomUpgrade,{}),(0,ne.Z)(n,N.OneOffVoucher,{}),(0,ne.Z)(n,N.InstantVoucher,C),n),R=Re("index",v),w=Te(R);return r().createElement("div",{className:m?ae.dismissedBannerWrapper:ae.bannerWrapper},r().createElement(me,(0,l.Z)({},T[v],{ref:w})))}var ze={TextWithTranslationTag:function(e){return e.text},Image:function(e){return e.url},GeniusVipIcon:function(e){return e.name}},He=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){if(t.__typename&&ze[t.__typename])return ze[t.__typename](t);if("object"!==(0,ie.Z)(t))return t;for(var a in t)if(t.hasOwnProperty(a)){if(!t||"object"!==(0,ie.Z)(t))return t;n[a]=e(t[a],Object.assign(t[a]instanceof Array?[]:{},t[a]))}return n}};function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe=function(e,t,n,a,i){var r,o,l;if(i&&i.rounds&&n.maxRounds){var s=n.rewardPercent,c=n.endDate,d=n.bookingsPerRound,u=n.maxRounds,m=i.rounds,g=i.isOnboarding,p=i.maxBookingsReached,v=5===s,f={start_style:"<vip-highlight>",end_style:"</vip-highlight>"},_=(null===(r=a.amountEarned)||void 0===r?void 0:r.amount)||0,k=m.reduce((function(e,t){var n=t.rewardAmount,a=t.rewardsSent,i=t.bookingsCount,r=t.maxCount;return null!==n&&void 0!==n&&n.amount&&!a&&i===r?e+n.amount:e}),0),b=(null===(o=a.formattedCurrencies)||void 0===o?void 0:o.amountEarned)||"",h=(null===(l=a.formattedCurrencies)||void 0===l?void 0:l.amountPendingTotal)||"",S=e.trans((0,P.t)("genius_vip_challenge_bnu_end_date",{variables:{end_date:(0,L.p6)(e,{date:new Date(c)||"",form:T})}})),y=m.filter((function(e){return e.rewardsSent})).length,E=y===u,N=function(e,t){return e.map((function(e){var n=e.bookingsCount,a=e.maxCount,i=e.rewardsSent,r=e.isStarted,o=e.index,l=e.formattedCurrencies,s=(null===l||void 0===l?void 0:l.rewardAmount)||"";return{isStarted:r,index:o,ringProps:{size:"small",theme:t,isGappedRing:2!==a,maxCount:a,bookingsCount:n,rewardsSent:i},rewardAmountFormatted:s,label:"",description:""}})).sort((function(e,t){return e.index-t.index}))}(m,"golden"),O={cta:[{text:g?e.trans((0,P.t)("genius_vip_challenge_bnu_cta_get_details")):e.trans((0,P.t)("genius_vip_challenge_bnu_cta_check_progress")),actionString:"genius_vip_campaigns"}]};if(g)Object.assign(O,{title:e.trans((0,P.t)(v?"genius_vip_challenge_bnu_index_banner_title_onboarding_5_percent":"genius_vip_challenge_bnu_index_banner_title_onboarding_10_percent",{variables:Ye({num_booking_threshold:d||5},f),num_exception:d||5})),asset:"https://bstatic.com/data/mobile/gneius_vip_logo_with_ripple_v2@LARGE.png"});else if(E)Object.assign(O,{title:e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_title_earned_total",{variables:Ye({amount_earned_total:b},f)}))});else if(p&&y>0)Object.assign(O,{title:e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_title_complete_stays_to_earn",{variables:Ye({amount_to_earn_total:h},f)})),subtitle:e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total",{variables:{amount_earned_total:b}}))});else if(p&&!y)Object.assign(O,{title:e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_title_complete_stays_to_earn",{variables:Ye({amount_to_earn_total:h},f)}))});else{N.filter((function(e){return e.isStarted})).slice(-2).forEach((function(t,n){var a=t.ringProps,i=a.bookingsCount,r=a.maxCount,o=a.rewardsSent,l=r-i;0===i?O.subtitle=_&&k&&u>2?e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total_and_stay_more",{variables:{amount_earned_total:b}})):e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_subtitle_make_another_booking")):i===r?O.title=o?e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_title_earned_last",{variables:Ye({amount_earned_total:b},f)})):e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_title_complete_stays_to_earn",{variables:Ye({amount_to_earn_total:h},f)})):t.index>y?O.subtitle=u>2&&_&&2===r?e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total_and_num_booking_to_earn",{variables:{amount_earned_total:b}})):e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_subtitle_num_booking_to_earn",{variables:{num_booking_more:l},num_exception:l})):O.title=e.trans((0,P.t)(v?"genius_vip_challenge_bnu_index_banner_title_num_booking_to_earn_5_percent":"genius_vip_challenge_bnu_index_banner_title_num_booking_to_earn_10_percent",{variables:Ye({num_booking_more:l},f),num_exception:l})),1===n&&y===t.index&&i>0&&(O.subtitle=e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total",{variables:{amount_earned_total:b}})))}))}var x=(E?N.slice(-1):N.filter((function(e){return e.isStarted&&!e.ringProps.rewardsSent}))).map((function(n){if(0===n.index&&n.ringProps.bookingsCount<n.ringProps.maxCount)return n;var a={content:e.trans((0,P.t)("genius_vip_challenge_bnu_round_num",{variables:{num_round:n.index+1}})),gap:2,textProps:{variant:t?"small_1":"body_2",color:"white"}};return Ye(Ye({},n),{},{ringProps:Ye(Ye({},n.ringProps),{},{additionalText:a})})}));return O.bookAndUnlockRounds=g?void 0:x,O.endDate=O.subtitle?"":S,O}},Je={view:{welcome:h.MODAL_VIEW,reminding:h.REMINDER_MODAL_VIEW,login:h.LOGIN_MODAL_VIEW},click:{welcome:h.MODAL_CTA_CLICK,reminding:h.REMINDER_MODAL_CTA_CLICK,login:h.LOGIN_MODAL_CTA_CLICK},dismiss:{welcome:h.MODAL_DISMISS,reminding:h.REMINDER_MODAL_DISMISS}};var Qe=function(e,t,n,a){var i;"click"!==(i=n)&&"dismiss"!==i&&"view"!==i?ge.eventBus.publish(n,{campaign:e,actionName:t}):a&&Je[n][a]&&ge.eventBus.publish(Je[n][a],{campaign:e,actionName:t})};function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e){var t=e.actionArray,n=e.isMdot,a=e.modalCategory,i=e.programType,o=e.actionName,s=e.onCtaClick,d=e.onClose;if(!t||!t.length)return null;var u=function(){s&&s(),i&&Qe(i,o,"click",a)},m=function(){d&&d()},g=t.sort((function(e,t){return e.actionDismiss&&!t.actionDismiss?1:!e.actionDismiss&&t.actionDismiss?-1:0})).map((function(e){return{text:e.text,actionString:e.actionString?Le(e.actionString||"",o,et({modal:o,type:a},e.actionParams)):"",actionDismiss:e.actionDismiss}}));return r().createElement(r().Fragment,null,g.map((function(e,t){return r().createElement(c.Button,(0,l.Z)({key:"cta_".concat(e.text)},function(e,t){var a=e.actionString,i=(e.actionDismiss,{text:e.text,size:n?"large":"medium",wide:n,variant:t?"tertiary":"primary"});return et(et({},i),{},a?{onClick:u,attributes:{href:a}}:{onClick:m})}(e,t)))})))}var nt={vipBold:"ccf424a5ad",extraPadding:"d04c5d2f03",doubleExtraPadding:"a91e8e5f9d",mdotActionBar:"cfcd3b7a79","mdotActionBar--noPaddingBottom":"eafe9db2fe"},at=function(e){switch(e){case N.BookAndUnlock:case N.InstantDiscount:return{width:"248px",height:"228px"};case N.InstantCredit:case N.SpendAndUnlock:return{width:"208px",height:"176px"};case N.OneOffVoucher:return{width:"256px",height:"256px"};default:return{width:"208px",height:"176px"}}};var it,rt=function(e){var t,n=e.uiData,a=e.isMdot,i=e.programType,o=e.actionName,l=e.modalCategory,s=e.onClose,d=tt({actionArray:n.cta,isMdot:a,modalCategory:l,programType:i,actionName:o,onClose:s});if(!i||!Object.keys(n).length)return null;var u=at(i),m=2===(null===(t=n.cta)||void 0===t?void 0:t.length);return r().createElement(Ae.df,{triggerOnce:!0,onChange:function(e){e&&Qe(i,o,"view",l)}},r().createElement(c.Box,{padding:a?4:6,className:fe()(a&&nt.extraPadding,a&&m&&nt.doubleExtraPadding)},r().createElement(c.Stack,{gap:6,alignItems:"center"},r().createElement(c.Stack.Item,null,r().createElement(c.Image,{src:n.asset,width:u.width,height:u.height,contentMode:"fit",fallback:null})),r().createElement(c.Stack.Item,null,r().createElement(c.Stack,{gap:4},r().createElement(c.Stack.Item,null,r().createElement(c.Text,{variant:"headline_2",align:"center"},n.title)),r().createElement(c.Stack.Item,null,r().createElement(c.Text,{variant:a?"body_1":"featured_3",align:"center"},Ne(n.subtitle,{"vip-bold":nt.vipBold}))))),r().createElement(c.Stack.Item,{className:fe()(a&&nt.mdotActionBar,a&&m&&nt["mdotActionBar--noPaddingBottom"])},r().createElement(c.Stack,{gap:a?0:3},n.cta&&d)))))},ot=n("af1e2b38"),lt=(0,i.createContext)({programType:N.InstantCredit});function st(e){var t=e.bannerData,n=e.modalData,a=e.dismissModal,o=e.dismissed,l=e.modalCategory,s=(0,ot.Z)().isMDOT,c=(0,i.useContext)(lt).programType,u=(0,i.useContext)(d),m=u.isOpen,g=u.toggle,p=u.setContent,v=rt({uiData:n,isMdot:s,programType:c,actionName:"index",modalCategory:l,onClose:g});return(0,i.useEffect)((function(){!o&&n&&(p(v),!m&&Object.keys(n).length&&(g(),a()))})),s?r().createElement(Ke,t):r().createElement(We,t)}function ct(){var e,t,n,l,s,c,d,u,h=(0,ot.Z)().isMDOT,S=function(){var e,t=(0,i.useRef)({localStorageKey:"default_key",localStorageValue:Date.now()+"",modalCategory:"",vipIndex:null}),n=null===(e=(0,o.getRequestContext)().getUserIdentity())||void 0===e?void 0:e.userId,r=(0,o.getRequestContext)().getBasePageUrl().searchParams,l=Q(),s=!Boolean(n)||!(!r.get(I)||!l),c=r.get(x);(0,_.trackExperiment)((0,_.exp)(X||(X=(0,a.Z)(["cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT"]))));var d=(0,v.useQuery)(k,{variables:{input:{enableEnroll:!0,page:O.INDEX,isFromEmail:Boolean(c)}},skip:s}),u=d.loading,m=d.error,g=d.data;if(m||u||s||!g)return m&&((0,_.trackExperimentStage)((0,_.exp)(Y||(Y=(0,a.Z)(["cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT"]))),5),(0,f.reportWarning)("Genius VIP index query error ".concat(m.message))),t.current;var p=g.geniusVipEnrolledProgram;if(p&&"GeniusVipEnrolledProgram"===p.__typename&&b(p,["metadata","reward","geniusVipUIs"])){(0,_.trackExperimentStage)((0,_.exp)(q||(q=(0,a.Z)(["cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT"]))),3);var h=p.geniusVipUIs.indexModal;h&&(0,_.trackExperimentStage)((0,_.exp)(J||(J=(0,a.Z)(["cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT"]))),4);var S="";p.metadata.programType===N.OneOffVoucher&&"reminding"!==(null===h||void 0===h?void 0:h.modalCategory)&&c?S=c:h&&b(h,["modalCategory","uniqueKey"])&&(S=h.modalCategory+h.uniqueKey),t.current={vipIndex:p,localStorageKey:(n||c)+"",localStorageValue:S,modalCategory:h&&h.modalCategory||""}}return t.current}(),E=S.localStorageKey,C=S.localStorageValue,P=S.vipIndex,L=S.modalCategory,A=(0,Ge.T)(E,C),T=A.closeDismissibleItem,R=A.dismissed,w=(0,g.useI18n)(),F=null===(e=(0,o.getRequestContext)().getUserIdentity())||void 0===e?void 0:e.userId,D=(0,o.getRequestContext)().getBasePageUrl(),B=null===D||void 0===D?void 0:D.searchParams,M=null===P||void 0===P||null===(t=P.metadata)||void 0===t?void 0:t.programType,U=He((null===P||void 0===P||null===(n=P.geniusVipUIs)||void 0===n?void 0:n.indexModal)||{});if(!M&&!F&&B.get(I)===N.OneOffVoucher&&(0,p.isFeatureRunning)((0,p.feature)(it||(it=(0,a.Z)(["cQYIMdUTNOUbWNHGHbfEGfMKMLae"]))))){var j=$(B,w);U=j.indexModal,L=j.modalCatgory,M=N.OneOffVoucher}var V=He((null===S||void 0===S||null===(l=S.vipIndex)||void 0===l||null===(s=l.geniusVipUIs)||void 0===s?void 0:s.indexBanner)||{});M===N.BookAndUnlock&&P&&b(P,["metadata","reward","userProgress"])&&(V=qe(w,h,P.metadata,P.reward,P.userProgress)||{});var Z=0===Object.keys(U).length,W=0===Object.keys(V).length;if((0,i.useEffect)((function(){M!==N.OneOffVoucher||Z||L!==y.LOGIN&&L!==y.EXPIRE||!D||(D.searchParams.set("offlineModalShown","1"),window.history.pushState({},"",D))}),[M,Z,D,L]),!M)return null;if(W&&Z)return null;if(M===N.BookAndUnlock&&null!==P&&void 0!==P&&null!==(c=P.userProgress)&&void 0!==c&&c.maxRewardsReached)return null;var G=null;if("SpendAndUnlockProgramMetadata"===(null===P||void 0===P||null===(d=P.metadata)||void 0===d?void 0:d.__typename)&&"SpendAndUnlockReward"===(null===(u=P.reward)||void 0===u?void 0:u.__typename)){var K,z,H,ee,te=P.metadata,ne=null===(K=P.reward.amountTotalUserSpent)||void 0===K?void 0:K.amount,ae=null===(z=te.upperLimit)||void 0===z?void 0:z.amount,ie=null===(H=te.threshold)||void 0===H?void 0:H.amount;if(ne&&ae&&ie&&te.rewardPercent&&null!==(ee=V.progressBar)&&void 0!==ee&&ee.indicators){var re,oe,le=null===(re=V)||void 0===re||null===(oe=re.progressBar)||void 0===oe?void 0:oe.indicators.map((function(e){return{value:(null===e||void 0===e?void 0:e.value)||0,formattedValue:(null===e||void 0===e?void 0:e.formattedValue)||""}}));G={progress:ne,upperLimit:ae/((null===te||void 0===te?void 0:te.rewardPercent)/100),threshold:ie,indicators:le,size:h?"small":"medium"}}}Object.assign(V,{progressBar:G});var se={isMdot:h,openOnLoad:!1,onAfterClose:function(){M&&Qe(M,"index","dismiss",L)},sheetContainerProps:{fill:!0,onAfterOpen:function(){(0,_.trackGoalWithValue)("js_sheet_container_displayed",1)}}};return r().createElement(lt.Provider,{value:{programType:M}},r().createElement(m,se,r().createElement(st,{bannerData:V,modalData:U,dismissModal:T,dismissed:R,modalCategory:L})))}},"91e54883":function(e,t,n){"use strict";n.d(t,{c:function(){return y},T:function(){return E}});var a=n("51373183"),i=n("ead71eb0"),r=n("129c48b3"),o=n.n(r),l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"===typeof e&&l.test(e)},c=[],d=0;d<256;++d)c.push((d+256).toString(16).substr(1));var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n};var m=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var g="6ba7b810-9dad-11d1-80b4-00c04fd430c8",p="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v(e,t,n,a){switch(e){case 0:return t&n^~t&a;case 1:case 3:return t^n^a;case 2:return t&n^t&a^n&a}}function f(e,t){return e<<t|e>>>32-t}var _=function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var a=unescape(encodeURIComponent(e));e=[];for(var i=0;i<a.length;++i)e.push(a.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var r=e.length/4+2,o=Math.ceil(r/16),l=new Array(o),s=0;s<o;++s){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=e[64*s+4*d]<<24|e[64*s+4*d+1]<<16|e[64*s+4*d+2]<<8|e[64*s+4*d+3];l[s]=c}l[o-1][14]=8*(e.length-1)/Math.pow(2,32),l[o-1][14]=Math.floor(l[o-1][14]),l[o-1][15]=8*(e.length-1)&4294967295;for(var u=0;u<o;++u){for(var m=new Uint32Array(80),g=0;g<16;++g)m[g]=l[u][g];for(var p=16;p<80;++p)m[p]=f(m[p-3]^m[p-8]^m[p-14]^m[p-16],1);for(var _=n[0],k=n[1],b=n[2],h=n[3],S=n[4],y=0;y<80;++y){var E=Math.floor(y/20),N=f(_,5)+v(E,k,b,h)+S+t[E]+m[y]>>>0;S=h,h=b,b=f(k,30)>>>0,k=_,_=N}n[0]=n[0]+_>>>0,n[1]=n[1]+k>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+h>>>0,n[4]=n[4]+S>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]},k=function(e,t,n){function a(e,a,i,r){if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"===typeof a&&(a=m(a)),16!==a.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(a),o.set(e,a.length),(o=n(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,i){r=r||0;for(var l=0;l<16;++l)i[r+l]=o[l];return i}return u(o)}try{a.name=e}catch(i){}return a.DNS=g,a.URL=p,a}("v5",80,_),b=k;function h(e){return b(e+"","78f09b1c-730c-49ff-8e0f-23315c42a5b7")}function S(e,t){var n=(0,i.useState)(!0),r=(0,a.Z)(n,2),l=r[0],s=r[1];return o()((function(){try{var n=window.localStorage.getItem(e);n&&t(n)?s(!0):s(!1)}catch(a){}})),[l,s]}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:72e5,n=h(e),i=S(n,(function(e){return Date.now()-+e<=t})),r=(0,a.Z)(i,2),o=r[0],l=r[1];return{closeDismissibleItem:function(){l(!0),window.localStorage.setItem(n,JSON.stringify(Date.now()))},dismissed:o,encryptLocalStorageKey:n}}function E(e,t){var n=h(e),r=S(n,(function(e){return e===t})),o=(0,a.Z)(r,2),l=o[0],s=o[1];return{closeDismissibleItem:(0,i.useCallback)((function(){s(!0),window.localStorage.setItem(n,t)}),[n,s,t]),dismissed:l,encryptLocalStorageKey:n}}},"8521b397":function(e,t){var n;!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var o=i.apply(null,n);o&&e.push(o)}else if("object"===r)for(var l in n)a.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},"58a2abd5":function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n("f5a638cf");function i(e,t){if(null==e)return{};var n,i,r=(0,a.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}},32100371:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n("d03db783");var i=n("f502ffc6");function r(e){return function(e){if(Array.isArray(e))return(0,a.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=https://istatic.booking.com/internal-static/capla/static/js/f5d0e2e7.72b51472.chunk.js.map