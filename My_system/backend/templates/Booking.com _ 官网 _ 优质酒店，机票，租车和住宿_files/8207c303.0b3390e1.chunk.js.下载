"use strict";(self["b-index-lp-web-mfe__LOADABLE_LOADED_CHUNKS__"]=self["b-index-lp-web-mfe__LOADABLE_LOADED_CHUNKS__"]||[]).push([["8207c303"],{"15ffe6b2":function(e,t,a){var n=a("ead71eb0");t.Z=function(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},n.createElement("path",{d:"M22.5 13.5v8.25a.75.75 0 0 1-.75.75H2.25a.75.75 0 0 1-.75-.75V5.25a.75.75 0 0 1 .75-.75h19.5a.75.75 0 0 1 .75.75v8.25zm1.5 0V5.25A2.25 2.25 0 0 0 21.75 3H2.25A2.25 2.25 0 0 0 0 5.25v16.5A2.25 2.25 0 0 0 2.25 24h19.5A2.25 2.25 0 0 0 24 21.75V13.5zm-23.25-3h22.5a.75.75 0 0 0 0-1.5H.75a.75.75 0 0 0 0 1.5zM7.5 6V.75a.75.75 0 0 0-1.5 0V6a.75.75 0 0 0 1.5 0zM18 6V.75a.75.75 0 0 0-1.5 0V6A.75.75 0 0 0 18 6zM5.095 14.03a.75.75 0 1 0 1.06-1.06.75.75 0 0 0-1.06 1.06zm.53-1.28a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25.75.75 0 0 0 0 1.5.375.375 0 1 1 0-.75.375.375 0 0 1 0 .75.75.75 0 0 0 0-1.5zm-.53 6.53a.75.75 0 1 0 1.06-1.06.75.75 0 0 0-1.06 1.06zm.53-1.28a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25.75.75 0 0 0 0 1.5.375.375 0 1 1 0-.75.375.375 0 0 1 0 .75.75.75 0 0 0 0-1.5zm5.845-3.97a.75.75 0 1 0 1.06-1.06.75.75 0 0 0-1.06 1.06zm.53-1.28A1.125 1.125 0 1 0 12 15a1.125 1.125 0 0 0 0-2.25.75.75 0 0 0 0 1.5.375.375 0 1 1 0-.75.375.375 0 0 1 0 .75.75.75 0 0 0 0-1.5zm-.53 6.53a.75.75 0 1 0 1.06-1.06.75.75 0 0 0-1.06 1.06zM12 18a1.125 1.125 0 1 0 0 2.25A1.125 1.125 0 0 0 12 18a.75.75 0 0 0 0 1.5.375.375 0 1 1 0-.75.375.375 0 0 1 0 .75.75.75 0 0 0 0-1.5zm5.845-3.97a.75.75 0 1 0 1.06-1.06.75.75 0 0 0-1.06 1.06zm.53-1.28a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25.75.75 0 0 0 0 1.5.375.375 0 1 1 0-.75.375.375 0 0 1 0 .75.75.75 0 0 0 0-1.5zm-.53 6.53a.75.75 0 1 0 1.06-1.06.75.75 0 0 0-1.06 1.06zm.53-1.28a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25.75.75 0 0 0 0 1.5.375.375 0 1 1 0-.75.375.375 0 0 1 0 .75.75.75 0 0 0 0-1.5z"}))}},f47ba09c:function(e,t,a){var n=a("ead71eb0");t.Z=function(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},n.createElement("path",{d:"M4.5 14.248v4.5l.75-.75H.75a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-1.5 0zm15-4.5v-4.5l-.75.75h4.5a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0zm-1.01-3.984a9.002 9.002 0 0 1-9.956 14.544.75.75 0 1 0-.576 1.384 10.502 10.502 0 0 0 11.311-2.117c4.184-4.017 4.32-10.665.304-14.85a.75.75 0 0 0-1.082 1.04zM5.51 18.232a9.003 9.003 0 0 1 9.957-14.54.75.75 0 1 0 .576-1.385C12.192.708 7.76 1.537 4.749 4.42.56 8.43.414 15.08 4.425 19.27a.75.75 0 0 0 1.084-1.038z"}))}},"83e1666b":function(e,t,a){a.r(t),a.d(t,{default:function(){return Ct}});var n=a("00d29d3a"),o=a("e260fc98"),r=a("ead71eb0"),l=a.n(r),i=a("3d054e81"),d=a("51373183"),s=a("8521b397"),c=a.n(s),u=a("dee2534d"),p=a("f47ba09c"),E=a("c9779913"),_={container:"c9a7790c31",wrapper:"e22b782521",ctaWrapper:"d12ff5f5bf",condensed:"f200fcc81a",slim:"e79e8c68d5",fourChildren:"e691439f9a",threeChildren:"b237a13ee1"};var h=function(e){var t=e.children,a=e.version,n=void 0===a?"wide":a,o=[];l().Children.forEach(t,(function(e){e&&o.push(e)}));var r="condensed"===n,i="slim"===n,d=3===o.length,s=4===o.length;return l().createElement(u.Container,{className:c()(_.container,r&&_.condensed,i&&_.slim,d&&_.threeChildren,s&&_.fourChildren),attributes:{"data-testid":"searchbox-layout-wide"}},o.map((function(e,t){var a;return e.type===u.Button&&(a=_.ctaWrapper),l().createElement("div",{className:c()(_.wrapper,a),key:t},e)})))},m=a("337dc83a"),D={container:"a0f1aad3f3",inner:"feaba1002a"};var f=function(e){var t=e.text;return l().createElement("div",{className:D.container,"data-testid":"searchbox-alert"},l().createElement("div",{className:D.inner},t))},T=a("31597aa0"),v=a("996788b1"),A=a("2fe109f3"),C={container:"b7ab62d599",destination:"bc4cc43c81",decorator:"c96fa981fd",autocompleteResults:"eb112f9f9a",autocompleteResultsExtended:"a50b97fe6d",autocompleteResultItemExtended:"e8f81e47dc",condensed:"a87f21c491"},b=300;var N=function(e){var t,a,n=e.inputRef,o=e.destination,r=e.isAutocompleteExtended,i=e.onInputChange,d=e.onInputChangeDebounced,s=e.onInputFocus,p=e.onOptionSelect,E=e.onOutsideClick,_=e.condensed,h=Boolean(null===o||void 0===o||null===(t=o.options)||void 0===t?void 0:t.filter((function(e){return e.isGoogleResult})).length);return l().createElement("div",{className:c()(C.container,_&&C.condensed)},l().createElement(T.Z,{inputRef:n,className:C.destination,decoratorClassName:C.decorator,isClearable:!0,isFocusOnClear:!0,isResultsAbsolute:!0,isResultsShown:o.optionsShown,isWithGoogle:h,icon:l().createElement(u.Icon,{svg:l().createElement(m.Z,null),size:"large",color:"neutral_alt"}),resultsClassName:c()(C.autocompleteResults,r&&C.autocompleteResultsExtended),resultsItemClassName:r?C.autocompleteResultItemExtended:void 0,name:o.name,placeholder:o.placeholder,value:o.value,debounceMs:b,onInputFocus:s,onInputChange:i,onInputChangeDebounced:d,options:o.options,secondaryOptions:o.secondaryOptions,onOptionSelect:p,onOutsideClick:E,renderOption:v.z,getOptionValue:A.l}),null!==(a=o.error)&&void 0!==a&&a.shown?l().createElement(f,{text:o.error.text}):null)},O=a("4b6905e5"),y=a.n(O),I=a("c44dcb0c"),S=a("15ffe6b2"),g=a("bc26e4f1"),P={button:"ebbedaf8ac",noIcon:"ab26a5d2bd",arrowDownIcon:"db7eef0ad7",children:"a8887b152e"},x=a("e7547f91");function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function L(e,t){var a=e.className,n=e.children,o=e.isWithIcon,r=void 0===o||o,d=e.highlightFocused,s=e.onClick,p=e.onKeyUp,E=e.onMouseDown,_=e.attributes,h=l().createElement(l().Fragment,null,l().createElement("span",{className:P.children},n),r?l().createElement(u.Icon,{className:P.arrowDownIcon,svg:l().createElement(x.Z,null),attributes:{"data-testid":"searchbox-form-button-icon"}}):null);return d?l().createElement(u.Actionable,{attributes:k({ref:t,onKeyUp:p,onMouseDown:E},_),className:c()(P.button,!r&&P.noIcon,a),onClick:s,tagName:"button"},h):l().createElement("button",(0,i.Z)({type:"button",ref:t,onKeyUp:p,onMouseDown:E},_,{className:c()(P.button,!r&&P.noIcon,a),onClick:s}),h)}var H=(0,r.forwardRef)(L),F=a("f9c2b594"),R={calendarIcon:"beacc6bab7",dayInIcon:"dafdfc705b"},G=a("08b473e0");var M=function(e){var t=e.className,a=e.flexibleDate,n=e.id,o=e.isWithArrowDownIcon,s=void 0===o||o,c=e.isWithCalendarIcon,p=void 0===c||c,E=e.date,_=e.placeholder,h=e.selectsData,m=e.localiseDate,D=void 0===m?function(e){return e.toDateString()}:m,f=e.onClick,T=void 0===f?y():f,v=e.onChange,A=void 0===v?y():v,C=(0,r.useState)(!1),b=(0,d.Z)(C,2),N=b[0],O=b[1],I=(0,r.useState)(null),S=(0,d.Z)(I,2),g=S[0],P=S[1];(0,r.useEffect)((function(){g&&P(null)}),[g]);var x=(0,r.useCallback)((function(){return O(!1)}),[]);return E||_?l().createElement(l().Fragment,null,N&&h?l().createElement(F.Z,(0,i.Z)({className:t,id:n,date:E||void 0,selectFocused:g},h,{onChange:function(e){P(null),A(e)},onOutsideClick:x})):l().createElement(H,{className:t,onClick:function(e){e.preventDefault(),T(e,n)},onKeyUp:function(e){"Tab"===e.key&&(O(!0),N||P(e.shiftKey?2:1))},isWithIcon:s,attributes:{"data-testid":"date-display-field-".concat(n)}},p?l().createElement(l().Fragment,null,l().createElement(u.Icon,{svg:l().createElement(G.Z,null),size:"medium",color:"neutral",className:R.calendarIcon}),l().createElement("div",{className:R.dayInIcon,"data-testid":"date-display-field-date-in-icon"},E?E.getDate():"+")):null,E?D(E)+(a?" (\xb1".concat(a,")"):""):_)):null},B=a("a0a3fa34"),Z=a("618ef7a2"),U=a("af979403"),V=a("8945bca7"),K={container:"a1139161bf",datesContainer:"f73e6603bf",icon:"e93f4f9263",calendar:"dd0fda3624",calendarFlexible:"ec5ebaed40",calendarRight:"b8c9b2eef8",date:"e33c97ff6b",datesDelimiter:"ac2e4f2389"},j=a("766562fc"),Y=a.n(j);var W=function(e){var t=e.hint,a=e.triggerRef,n=e.onClose,o=(0,I.useI18n)(),i=(0,r.useState)(!0),s=(0,d.Z)(i,2),c=s[0],p=s[1];return null===t||void 0===t||!t.text||t.invisible?null:l().createElement(u.Popover,{triggerRef:a,active:!(!c||!t.shown),onClose:function(){return p(!0)},position:"bottom-start",hideClose:!0,disableAnimation:t.disableAnimation},l().createElement(u.Popover.Content,null,l().createElement(u.DismissibleContainer,{closeAriaLabel:o.trans((0,I.t)("m_search_close")),onClose:n},t.text)))};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var X="onetrust-banner-sdk";var Q=function(e){var t,a,n,o,i,d=e.date,s=e.calendar,p=e.calendarPosition,E=e.keepCalendarOpenOnCookieBannerClick,_=e.localiseDate,h=e.onDateClick,m=void 0===h?y():h,D=e.onDateChange,T=void 0===D?y():D,v=e.onBaseMonthChange,A=void 0===v?y():v,C=e.onOutsideClick,b=void 0===C?y():C,N=e.onFlexibleDateChange,O=e.onLongTermFlexibleDateChange,P=e.onLongTermFlexibleDatesDoneButtonClick,x=e.onTabChange,w=e.onDateHintClose,k=(0,I.useI18n)(),L=(0,V.Z)(d,{setStartDateOnOpen:!0}),F=(0,r.useRef)(null);(0,U.Z)(F,(function(){d.open&&b(d.open)})),Y()(F,(function(e){var t;E&&null!==(t=document.getElementById(X))&&void 0!==t&&t.contains(e.target)||d.open&&b(d.open)}));var R,G=void 0;null!==(t=d.error)&&void 0!==t&&t.losExceededError?G=k.trans((0,I.t)("sbox_error_num_night_res",{variables:{num:d.maxLOS},num_exception:d.maxLOS})):null!==(a=d.error)&&void 0!==a&&a.emptyError&&(G=k.trans((0,I.t)("lp_hp_no_dates_selected_error"))),d.start.date&&d.end.date&&Number(d.minLOS)&&(0,g.VS)(d.start.date,d.end.date)<Number(d.minLOS)&&(R=k.trans((0,I.t)("sr_calendar_min_night_stay_footer",{variables:{num_nights:Number(d.minLOS)},num_exception:Number(d.minLOS)})));var j=d.open?l().createElement(B.Z,{id:d.open,className:c()(K.calendar,(d.flexibleDates||d.longTermFlexibleDates)&&K.calendarFlexible,"right"===p&&K.calendarRight),activeTabId:d.activeTabId,localiseDate:_,isAbsolute:!0,calendarFooter:{custom:R,preFooter:s.preFooter,isRenderSelected:!0,flexibleDates:d.flexibleDates?z(z({},d.flexibleDates),{},{onChange:N}):void 0},longTermFlexibleDates:d.longTermFlexibleDates?z(z({},d.longTermFlexibleDates),{},{maxLOS:d.maxLOS,onChange:O,onDoneButtonClick:function(){d.open&&b(d.open),null===P||void 0===P||P()}}):void 0,attachmentData:s.attachmentData,calendarProps:z({startDate:d.start.date||null,endDate:d.end.date||null,baseDate:L,onBaseMonthChange:A},s),onTabChange:x,onDateChange:function(e){return T(z(z({},e),{},{id:d.open,isCalendar:!0}))}}):null,J=l().createElement("div",{ref:F,tabIndex:-1,className:K.container},"right"===p?j:null,l().createElement("div",{className:K.datesContainer,role:"none",onClick:function(e){var t=e.target.tagName.toLowerCase();"select"!==t&&"option"!==t&&(d.open?b(d.open):m(e,"start"))},"data-testid":"searchbox-dates-container"},l().createElement(u.Icon,{svg:l().createElement(S.Z,null),size:"medium",color:"neutral_alt",className:K.icon}),"flexible"===d.activeTabId&&d.longTermFlexibleDates&&(0,Z.j)(null===(n=d.longTermFlexibleDates)||void 0===n?void 0:n.selected)?l().createElement(H,{isWithIcon:!1,className:K.date},(0,Z.E)({selected:d.longTermFlexibleDates.selected,longTermFlexibleDatesConfig:d.longTermFlexibleDates,i18n:k})):l().createElement(l().Fragment,null,l().createElement(M,{className:K.date,id:"start",isWithCalendarIcon:!1,isWithArrowDownIcon:!1,date:d.start.date,placeholder:d.start.placeholder,selectsData:{monthSelect:d.start.monthSelect,daySelect:d.start.daySelect,minDate:s.minDate,maxDate:s.maxDate},localiseDate:_,onChange:T}),l().createElement("span",{className:K.datesDelimiter}," \u2014 "),l().createElement(M,{className:K.date,flexibleDate:"exact"!==(null===(o=d.flexibleDates)||void 0===o?void 0:o.selected)?null===(i=d.flexibleDates)||void 0===i?void 0:i.selected:void 0,id:"end",isWithCalendarIcon:!1,isWithArrowDownIcon:!1,date:d.end.date,placeholder:d.end.placeholder,selectsData:{monthSelect:d.end.monthSelect,daySelect:d.end.daySelect,minDate:s.minDate,maxDate:s.maxDate},localiseDate:_,onChange:T}))),"right"!==p?j:null,G?l().createElement(f,{text:G}):null);return l().createElement(l().Fragment,null,J,d.hint?l().createElement(W,{hint:d.hint,triggerRef:F,onClose:w}):null)},q=a("58a2abd5"),$=a("abab1afe"),ee=a("434d016f"),te={wrapper:"ba487c202d",container:"b067f3afe2",doneButton:"c213355c26",icon:"a6a399739a"},ae=a("8b97fb1a"),ne=a("1ac62b0e");function oe(e,t){var a=e.open,n=e.buttonClassName,o=e.containerClassName,i=e.popupClassName,d=e.adults,s=e.kids,p=e.kidsAges,E=e.rooms,_=e.isWithGroupIcon,h=e.showNewUI,m=e.showKidAgesHeading,D=e.onChange,f=void 0===D?y():D,T=e.onVisibilityStateChange,v=function(e){null===T||void 0===T||T(e?"open":"close")},A=(0,r.useRef)(null);(0,U.Z)(A,(function(){return v(!1)}));var C=(0,I.useI18n)(),b={adults:d,kids:s,kidsAges:p,rooms:E},N=(0,ne.T6)(d.value,s.value,E.value,C);return l().createElement("div",{ref:A,className:o,tabIndex:-1},l().createElement(H,{className:n,onClick:function(){return v(!a)},ref:t,attributes:{"data-testid":"occupancy-config"},highlightFocused:!0},_?l().createElement(u.Icon,{className:te.icon,svg:l().createElement(ee.Z,null),size:"medium",color:"neutral_alt",attributes:{"data-testid":"occupancy-config-icon"}}):null,N),a?l().createElement("div",{className:te.wrapper},l().createElement("div",{className:c()(te.container,i),"data-testid":"occupancy-popup"},l().createElement(ae.Z,{adults:d,kids:s,kidsAges:p,rooms:E,showNewUI:h,showKidAgesHeading:m,onChange:function(e){var t,a=e.value,n=e.name,o=e.index;a!==b[n].min&&a!==b[n].max||(v(!0),null===(t=A.current)||void 0===t||t.focus());f({name:n,value:Number(a),index:o})}}),l().createElement(u.Button,{variant:"secondary",className:te.doneButton,wide:!0,text:C.trans((0,$.t)("search_box_guest_num_popup_done")),onClick:function(){return v(!1)}}))):null)}var re=(0,r.forwardRef)(oe),le={button:"ada2387af8",occupancyContainer:"d777d2b248",popup:"b3c059c742",condensed:"f2f86e0e98"},ie=["condensed"];function de(e,t){var a=e.condensed,n=(0,q.Z)(e,ie);return l().createElement(re,(0,i.Z)({},n,{ref:t,isWithGroupIcon:!0,buttonClassName:le.button,containerClassName:c()(le.occupancyContainer,a&&le.condensed),popupClassName:le.popup}))}var se,ce=(0,r.forwardRef)(de),ue=a("2b547677"),pe={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},Ee={monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"},_e={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},he=function(e){var t=new Date,a=(0,ne.nG)(t);return{isCJK:!1,header:e.trans((0,$.t)("sr_sbox_header")),destination:{label:e.trans((0,$.t)("searchbox_microcopy_where_question_dehotelize")),name:"destination",placeholder:e.trans((0,$.t)("iq_sbox_accommodation_where")),value:"",options:[],optionsShown:!1,error:{shown:!1,text:e.trans((0,$.t)("sbox_error_enter_dest"))}},date:{allowSubmitsWithNoDates:!0,start:{label:e.trans((0,$.t)("checkin_date")),placeholder:e.trans((0,$.t)("search_box_cal_checkin_date")),monthSelect:{monthNames:Object.values(_e),name:"",placeholder:e.trans((0,$.t)("a11y_sr_check_in_month_selector"))},daySelect:{dayNames:Object.values(pe),name:"",placeholder:e.trans((0,$.t)("a11y_sr_check_in_day_selector"))},date:t},end:{label:e.trans((0,$.t)("checkout_date")),placeholder:e.trans((0,$.t)("search_box_cal_checout_date")),monthSelect:{monthNames:Object.values(_e),name:"",placeholder:e.trans((0,$.t)("a11y_sr_check_out_month_selector"))},daySelect:{dayNames:Object.values(pe),name:"",placeholder:e.trans((0,$.t)("a11y_sr_check_out_day_selector"))},date:(0,g.NG)(t)},error:{losExceededError:!1,emptyError:!1},maxLOS:30,label:e.trans((0,$.t)("sr_sbox_checkin_checkout_head"))},calendar:{minDate:t,maxDate:a,firstWeekDay:1,mode:"double",dayNames:Ee,monthNames:_e},occupancy:{adults:{name:"adults",min:1,max:30,value:1,label:e.trans((0,$.t)("sbox_adults"))},kids:{name:"kids",min:0,max:10,value:0,label:e.trans((0,$.t)("sbox_children"))},kidsAges:{name:"kidsAges",min:0,max:17,values:[],defaultValues:[-1]},rooms:{name:"rooms",min:1,max:30,value:1,label:e.trans((0,$.t)("sbox_rooms"))}},travelPurpose:{name:"sb_travel_purpose",checked:!1,shown:!0,label:e.trans((0,$.t)("sxp_sr_sbox_travelling_for_work")),tooltipText:e.trans((0,$.t)("bb_sbox_work_text_4"))},flightSearch:{name:"sb_flight_search",checked:!1,shown:!1,label:e.trans((0,$.t)("xsell_init_show_flights_in_new_tab_accom_page"))},homesAndApartmentsFirst:{name:"sb_entire_place",checked:!1,shown:!0,label:e.trans((0,$.t)("www_bh_gwe_privacy_entire_home_tickbox_short_header_filter")),labelLong:e.trans((0,$.t)("bh_gwe_privacy_entire_home_tickbox_header_filter")),tooltipText:e.trans((0,$.t)("bh_gwe_privacy_entire_home_tickbox_header_tooltip_filter"))},showResultsOnTheMap:{name:"map",checked:!1,shown:!1,label:e.trans((0,$.t)("sxp_index_sbox_results_in_map"))},hiddenFields:{},submitButtonText:e.trans((0,$.t)("searchbox_button_sr")),stitchRoomsWithAdults:!1,submitButtonTextAfterUpdate:e.trans((0,$.t)("sr_sbox_update_search_cta"))}};!function(e){e.DESTINATION_INPUT_CHANGED="DESTINATION_INPUT_CHANGED",e.DESTINATION_INPUT_FOCUSED="DESTINATION_INPUT_FOCUSED",e.DESTINATION_OPTIONS_FETCHED="DESTINATION_OPTIONS_FETCHED",e.DESTINATION_SECONDARY_OPTIONS_FETCHED="DESTINATION_SECONDARY_OPTIONS_FETCHED",e.DESTINATION_OPTION_SELECTED="DESTINATION_OPTION_SELECTED",e.DESTINATION_OUTSIDE_CLICK="DESTINATION_OUTSIDE_CLICK",e.DATE_OPENED="DATE_OPENED",e.DATE_PICKER_ACTIVE_TAB_CHANGED="DATE_PICKER_ACTIVE_TAB_CHANGED",e.DATE_CHANGED="DATE_CHANGED",e.DATE_CHANGED_SINGLE_CALENDAR="DATE_CHANGED_SINGLE_CALENDAR",e.DATE_HINT_VISIBILITY_STATE_CHANGED="DATE_HINT_VISIBILITY_STATE_CHANGED",e.CALENDAR_CLOSED="CALENDAR_CLOSED",e.CALENDAR_PRICES_FETCHED="CALENDAR_PRICES_FETCHED",e.FLIGHT_SEARCH_CHANGED="FLIGHT_SEARCH_CHANGED",e.MAX_LOS_UPDATED="MAX_LOS_UPDATED",e.MIN_LOS_UPDATED="MIN_LOS_UPDATED",e.FLEXIBLE_DATES_CHANGED="FLEXIBLE_DATES_CHANGED",e.LONGTERM_FLEXIBLE_DATES_SELECTED_CHANGED="LONGTERM_FLEXIBLE_DATES_SELECTED_CHANGED",e.OCCUPANCY_CHANGED="OCCUPANCY_CHANGED",e.OCCUPANCY_VISIBILITY_STATE_CHANGED="OCCUPANCY_VISIBILITY_STATE_CHANGED",e.HOMES_AND_APARTMENTS_FIRST_CHANGED="HOMES_AND_APARTMENTS_FIRST_CHANGED",e.HOMES_AND_APARTMENTS_FIRST_VISIBILITY_STATE_CHANGED="HOMES_AND_APARTMENTS_FIRST_VISIBILITY_STATE_CHANGED",e.SHOW_ON_MAP_CHANGED="SHOW_ON_MAP_CHANGED",e.SHOW_ON_MAP_VISIBILITY_STATE_CHANGED="SHOW_ON_MAP_VISIBILITY_STATE_CHANGED",e.TRAVEL_PURPOSE_CHANGED="TRAVEL_PURPOSE_CHANGED"}(se||(se={}));var me=a("49dddc75");function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Te(e,t){switch(t.type){case se.DESTINATION_INPUT_CHANGED:var a;if(!e.destination)return e;var n,o=fe(fe({},e),{},{isDataChanged:!0,destination:fe(fe({},e.destination),{},{value:t.payload.value,option:void 0,method:t.payload.method})});if(null!==(a=o.destination.error)&&void 0!==a&&a.text)o.destination.error=fe(fe({},o.destination.error),{},{shown:!t.payload.value&&Boolean(null===(n=e.destination.error)||void 0===n?void 0:n.shown)});return o;case se.DESTINATION_INPUT_FOCUSED:var r=fe(fe({},e),{},{destination:fe(fe({},e.destination),{},{optionsShown:!0})});return r.destination.error&&t.payload.dismissErrorMessage&&(r.destination.error=fe(fe({},r.destination.error),{},{shown:!1})),r.date.hint&&(r.date.hint.shown=!1),r;case se.DESTINATION_OPTIONS_FETCHED:return fe(fe({},e),{},{destination:fe(fe({},e.destination),{},{options:t.payload.options})});case se.DESTINATION_SECONDARY_OPTIONS_FETCHED:return fe(fe({},e),{},{destination:fe(fe({},e.destination),{},{secondaryOptions:t.payload.secondaryOptions})});case se.DESTINATION_OPTION_SELECTED:var l=t.payload.option,i=fe(fe({},e),{},{isDataChanged:!0,destination:fe(fe({},e.destination),{},{value:l.valueForInput,option:l,method:t.payload.method,optionsShown:!1})});return!t.payload.autoOpenCalendarForNoDates||e.date.start.date||e.date.end.date||(i.date=fe(fe({},i.date),{},{open:"start"})),i;case se.DESTINATION_OUTSIDE_CLICK:var s;return null!==(s=e.destination)&&void 0!==s&&s.optionsShown?fe(fe({},e),{},{destination:fe(fe({},e.destination),{},{optionsShown:!1})}):e;case se.DATE_OPENED:var c;if(!e.date)return e;var u=fe(fe({},e),{},{date:fe(fe({},e.date),{},{open:(null===(c=e.date)||void 0===c?void 0:c.open)===t.payload.open?void 0:t.payload.open})});return u.date.error&&t.payload.dismissErrorMessage&&(u.date.error={losExceededError:!1,emptyError:!1}),u.date.hint&&(u.date.hint.shown=!1),u;case se.DATE_PICKER_ACTIVE_TAB_CHANGED:return e.date.longTermFlexibleDates?fe(fe({},e),{},{date:fe(fe({},e.date),{},{activeTabId:t.payload.activeTabId})}):e;case se.DATE_CHANGED:if(!e.date)return e;var p=e.date.open;t.payload.open&&(p=t.payload.open);var E=(0,ne.$y)({open:p,minDate:e.calendar.minDate,startDate:e.date.start.date,endDate:e.date.end.date,changedDate:t.payload.changedDate}),_=(0,d.Z)(E,2),h=_[0],m=_[1];return fe(fe({},e),{},{isDataChanged:!0,date:fe(fe({},e.date),{},{open:t.payload.keepCalendarOpen?p:void 0,start:fe(fe({},e.date.start),{},{date:h}),end:fe(fe({},e.date.end),{},{date:m})})});case se.DATE_CHANGED_SINGLE_CALENDAR:if(!e.date)return e;if("end"===t.payload.open){if(e.date.start.date&&t.payload.changedDate<e.date.start.date)return fe(fe({},e),{},{isDataChanged:!0,date:fe(fe({},e.date),{},{open:"end",start:fe(fe({},e.date.start),{},{date:t.payload.changedDate}),end:fe(fe({},e.date.end),{},{date:void 0})})});if(!(0,g.wn)(e.date.start.date,t.payload.changedDate))return fe(fe({},e),{},{isDataChanged:!0,date:fe(fe({},e.date),{},{open:t.payload.keepCalendarOpen?"start":void 0,end:fe(fe({},e.date.end),{},{date:t.payload.changedDate})})})}return"start"===t.payload.open?fe(fe({},e),{},{isDataChanged:!0,date:fe(fe({},e.date),{},{open:"end",start:fe(fe({},e.date.start),{},{date:t.payload.changedDate}),end:fe(fe({},e.date.end),{},{date:void 0})})}):e;case se.DATE_HINT_VISIBILITY_STATE_CHANGED:var D;return null!==(D=e.date)&&void 0!==D&&D.hint?fe(fe({},e),{},{date:fe(fe({},e.date),{},{hint:fe(fe({},e.date.hint),{},{shown:"undefined"===typeof t.payload.shown?e.date.hint.shown:t.payload.shown,invisible:"undefined"===typeof t.payload.invisible?e.date.hint.invisible:t.payload.invisible})})}):e;case se.CALENDAR_PRICES_FETCHED:return e.date?fe(fe({},e),{},{calendar:fe(fe({},e.calendar),{},{attachmentData:t.payload.prices,preFooter:t.payload.preFooter})}):e;case se.CALENDAR_CLOSED:if(!e.date||e.date.open!==t.payload.open)return e;var f=fe(fe({},e),{},{date:fe(fe({},e.date),{},{open:void 0})});return t.payload.shouldSetEmptyEndDate&&f.date.start.date&&!f.date.end.date&&(f.date.end=fe(fe({},f.date.end),{},{date:(0,g.NG)(f.date.start.date)})),f;case se.MAX_LOS_UPDATED:return fe(fe({},e),{},{date:fe(fe({},e.date),{},{maxLOS:t.payload.maxLOS})});case se.MIN_LOS_UPDATED:return fe(fe({},e),{},{date:fe(fe({},e.date),{},{minLOS:t.payload.minLOS})});case se.FLEXIBLE_DATES_CHANGED:return e.date.flexibleDates?fe(fe({},e),{},{isDataChanged:!0,date:fe(fe({},e.date),{},{open:t.payload.keepCalendarOpen?e.date.open:void 0,flexibleDates:fe(fe({},e.date.flexibleDates),{},{selected:t.payload.selected?t.payload.value:"exact"})})}):e;case se.LONGTERM_FLEXIBLE_DATES_SELECTED_CHANGED:return e.date.longTermFlexibleDates?fe(fe({},e),{},{date:fe(fe({},e.date),{},{longTermFlexibleDates:fe(fe({},e.date.longTermFlexibleDates),{},{selected:t.payload.data})})}):e;case se.OCCUPANCY_VISIBILITY_STATE_CHANGED:return e.occupancy?fe(fe({},e),{},{occupancy:fe(fe({},e.occupancy),{},{open:t.payload.open})}):e;case se.OCCUPANCY_CHANGED:return e.occupancy?fe(fe({},e),{},{isDataChanged:!0,occupancy:(0,ne.Qh)(fe({occupancy:e.occupancy,defaultKidsAges:e.occupancy.kidsAges.defaultValues,stitchRoomsWithAdults:e.stitchRoomsWithAdults},t.payload))}):e;case se.TRAVEL_PURPOSE_CHANGED:return e.travelPurpose?fe(fe({},e),{},{isDataChanged:!0,travelPurpose:fe(fe({},e.travelPurpose),{},{checked:t.payload.checked})}):e;case se.FLIGHT_SEARCH_CHANGED:return e.flightSearch?fe(fe({},e),{},{isDataChanged:!0,flightSearch:fe(fe({},e.flightSearch),{},{checked:t.payload.checked})}):e;case se.HOMES_AND_APARTMENTS_FIRST_CHANGED:return e.homesAndApartmentsFirst?fe(fe({},e),{},{isDataChanged:!0,homesAndApartmentsFirst:fe(fe({},e.homesAndApartmentsFirst),{},{checked:t.payload.checked})}):e;case se.HOMES_AND_APARTMENTS_FIRST_VISIBILITY_STATE_CHANGED:return e.homesAndApartmentsFirst?fe(fe({},e),{},{homesAndApartmentsFirst:fe(fe({},e.homesAndApartmentsFirst),{},{shown:t.payload.shown})}):e;case se.SHOW_ON_MAP_CHANGED:return e.showResultsOnTheMap?fe(fe({},e),{},{isDataChanged:!0,showResultsOnTheMap:fe(fe({},e.showResultsOnTheMap),{},{checked:t.payload.checked})}):e;case se.SHOW_ON_MAP_VISIBILITY_STATE_CHANGED:return e.showResultsOnTheMap?fe(fe({},e),{},{showResultsOnTheMap:fe(fe({},e.showResultsOnTheMap),{},{shown:t.payload.shown})}):e;case me.E.HIDDEN_FIELDS_CHANGED:return fe(fe({},e),{},{hiddenFields:fe(fe({},e.hiddenFields),t.payload)});case me.E.FORM_SUBMITTED:var T,v=t.payload,A=fe({},e);return A.destination&&null!==(T=A.destination.error)&&void 0!==T&&T.text&&(A.destination=fe(fe({},A.destination),{},{error:{text:A.destination.error.text,shown:Boolean(null===v||void 0===v?void 0:v.destinationError)}})),A.date&&(A.date=fe(fe({},A.date),{},{error:{losExceededError:Boolean(null===v||void 0===v?void 0:v.datesLOSExceededError),emptyError:Boolean(null===v||void 0===v?void 0:v.datesEmptyError)}})),A;default:return e}}function ve(e){var t,a,n={};if(e.destination&&!(e.destination.value||"").trim())return n.destinationError=!0,n;var o="flexible"===e.date.activeTabId&&(0,Z.j)(null===(t=e.date.longTermFlexibleDates)||void 0===t?void 0:t.selected);return!o&&e.date.start.date&&e.date.end.date&&e.date.maxLOS&&(0,g.VS)(e.date.start.date,e.date.end.date)>e.date.maxLOS?(n.datesLOSExceededError=!0,n):o||e.date.allowSubmitsWithNoDates||e.date.start.date&&e.date.end.date?null!==(a=e.occupancy.kidsAges)&&void 0!==a&&a.values.filter((function(e){return-1===e})).length?(n.childrenAgesError=!0,n):null:(n.datesEmptyError=!0,n)}var Ae=a("e36b001b"),Ce={submitButton:"cceeb8986b",footer:"d542df2f89",condensedFooter:"c0ce606a1c",footerOnDarkBackground:"f367c68821",slim:"fb7df01322"},be=a("cd893809"),Ne=a.n(be),Oe=900;function ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Se=function(e){var t,a,n,o,s,_,m,D,f,T,v,A,C=e.className,b=e.formAction,O=e.formMethod,y=void 0===O?"GET":O,S=e.formTarget,g=e.localiseDate,P=void 0===g?function(e){return e.toDateString()}:g,x=e.experimentalOptions,w=e.onSubmit,k=e.onDestinationChange,L=e.onDestinationChangeDebounced,H=e.onDestinationFocus,F=e.onAutocompleteOptionSelect,R=e.onDateDisplayClick,G=e.onCalendarOpen,M=e.onDateChange,B=e.onBaseMonthChange,Z=e.onFlexibleDateChange,U=e.onLongTermFlexibleDateChange,V=e.onLongTermFlexibleDatesDoneButtonClick,K=e.onTabChange,j=e.onOccupancyChange,Y=e.onOccupancyVisibilityStateChange,W=e.onHomesAndApartmentsChange,J=e.onTravelPurposeChange,z=e.onFlightSearchChange,X=e.onShowOnMapChange,q=e.render,$=e.initialState,ee=void 0===$?{}:$,te=e.version,ae=void 0===te?"wide":te,oe=e.footerOnDarkBackground,re=void 0!==oe&&oe,le=function(e){var t=(0,I.useI18n)(),a=(0,r.useReducer)(Te,{},(function(){return(0,ne.sO)(he(t),e)})),n=(0,d.Z)(a,2);return[n[0],n[1]]}(ee),ie=(0,d.Z)(le,2),de=ie[0],pe=ie[1],Ee=(0,r.useRef)(null),_e=(0,r.useRef)(null),me=(0,r.useRef)(!1),De=(0,Ae.Z)({state:de,dispatch:pe,validateForm:ve,onError:function(e){var t;null!==e&&void 0!==e&&e.childrenAgesError&&(pe({type:se.OCCUPANCY_VISIBILITY_STATE_CHANGED,payload:{open:!0}}),null===(t=_e.current)||void 0===t||t.focus())},onSubmit:w}).onFormSubmit;!function(e,t,a){(0,r.useEffect)((function(){if(null!==e&&void 0!==e&&e.text){var a=Ne()((function(){t({type:se.DATE_HINT_VISIBILITY_STATE_CHANGED,payload:{invisible:window.innerWidth<=Oe}})}),300);return a(),window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}}),[t,null===e||void 0===e?void 0:e.text]),(0,r.useEffect)((function(){var n;if(null!==e&&void 0!==e&&e.shown&&!e.invisible)return e.timeout&&(n=setTimeout((function(){t({type:se.DATE_HINT_VISIBILITY_STATE_CHANGED,payload:{shown:!1}}),null===a||void 0===a||a()}),e.timeout)),function(){clearTimeout(n)}}),[t,null===e||void 0===e?void 0:e.invisible,null===e||void 0===e?void 0:e.shown,null===e||void 0===e?void 0:e.timeout,a])}(null===(t=de.date)||void 0===t?void 0:t.hint,pe,null===x||void 0===x||null===(a=x.date)||void 0===a?void 0:a.onDateHintCloseByTimeout),(0,r.useEffect)((function(){!me.current&&de.date.open&&(null===G||void 0===G||G(de.date.open,de,pe)),me.current=Boolean(de.date.open)}),[G,de.date.open,de,pe]);var fe="condensed"===ae;return l().createElement(E.Z,{className:c()("slim"===ae&&Ce.slim,C),formAction:b,formMethod:y,formTarget:S,onSubmit:De},l().createElement(h,{version:ae},de.destination?l().createElement(N,{inputRef:Ee,destination:de.destination,isAutocompleteExtended:null===x||void 0===x||null===(n=x.destination)||void 0===n?void 0:n.autocompleteExtended,onInputChange:function(e,t){pe({type:se.DESTINATION_INPUT_CHANGED,payload:t}),null===k||void 0===k||k(t,de,pe)},onInputChangeDebounced:function(e,t){null===L||void 0===L||L(t,de,pe)},onOptionSelect:function(e,t){pe({type:se.DESTINATION_OPTION_SELECTED,payload:Ie(Ie({},t),{},{autoOpenCalendarForNoDates:!0})}),null===F||void 0===F||F(t,de,pe)},onInputFocus:function(e){pe({type:se.DESTINATION_INPUT_FOCUSED,payload:{dismissErrorMessage:!0}}),null===H||void 0===H||H(e,de,pe)},onOutsideClick:function(){return pe({type:se.DESTINATION_OUTSIDE_CLICK})},condensed:fe}):null,l().createElement(Q,{date:de.date,calendar:de.calendar,calendarPosition:null===x||void 0===x||null===(o=x.calendar)||void 0===o?void 0:o.calendarPosition,keepCalendarOpenOnCookieBannerClick:null===x||void 0===x||null===(s=x.calendar)||void 0===s?void 0:s.keepCalendarOpenOnCookieBannerClick,localiseDate:P,onDateClick:function(e,t){pe({type:se.DATE_OPENED,payload:{open:t,dismissErrorMessage:!0}}),null===R||void 0===R||R(t,de,pe)},onDateChange:function(e){var t,a=e.changedDate,n=e.id,o=e.isCalendar,r={changedDate:a,open:n,keepCalendarOpen:(null===x||void 0===x||null===(t=x.calendar)||void 0===t?void 0:t.keepCheckoutCalendarOpen)&&"end"===de.date.open};pe(o?{type:se.DATE_CHANGED_SINGLE_CALENDAR,payload:r}:{type:se.DATE_CHANGED,payload:r}),null===M||void 0===M||M(r,de,pe)},onBaseMonthChange:function(e){null===B||void 0===B||B(e,de,pe)},onFlexibleDateChange:function(e){pe({type:se.FLEXIBLE_DATES_CHANGED,payload:Ie(Ie({},e),{},{keepCalendarOpen:!0})}),null===Z||void 0===Z||Z(e)},onLongTermFlexibleDateChange:function(e){pe({type:se.LONGTERM_FLEXIBLE_DATES_SELECTED_CHANGED,payload:{data:e}}),null===U||void 0===U||U(e)},onLongTermFlexibleDatesDoneButtonClick:V,onTabChange:function(e){pe({type:se.DATE_PICKER_ACTIVE_TAB_CHANGED,payload:{activeTabId:e}}),null===K||void 0===K||K(e)},onOutsideClick:function(e){return pe({type:se.CALENDAR_CLOSED,payload:{open:e,shouldSetEmptyEndDate:!0}})},onDateHintClose:function(){var e,t;pe({type:se.DATE_HINT_VISIBILITY_STATE_CHANGED,payload:{shown:!1}}),null===x||void 0===x||null===(e=x.date)||void 0===e||null===(t=e.onDateHintCloseByUser)||void 0===t||t.call(e)}}),l().createElement(ce,(0,i.Z)({},de.occupancy,{ref:_e,onChange:function(e){pe({type:se.OCCUPANCY_CHANGED,payload:e}),null===j||void 0===j||j(e,de,pe)},onVisibilityStateChange:function(e){pe({type:se.OCCUPANCY_VISIBILITY_STATE_CHANGED,payload:{open:"open"===e}}),pe({type:se.DATE_HINT_VISIBILITY_STATE_CHANGED,payload:{shown:!1}}),null===Y||void 0===Y||Y(e)},condensed:fe})),l().createElement(u.Button,{type:"submit",text:null!==x&&void 0!==x&&null!==(_=x.submit)&&void 0!==_&&_.updateCopyOnFormChanges&&de.isDataChanged?de.submitButtonTextAfterUpdate:de.submitButtonText,size:"slim"===ae?"medium":"large",icon:null!==x&&void 0!==x&&null!==(m=x.submit)&&void 0!==m&&m.updateCopyOnFormChanges&&de.isDataChanged?l().createElement(p.Z,null):void 0,wide:!0,className:Ce.submitButton})),l().createElement("div",{className:c()(fe?Ce.condensedFooter:Ce.footer,re&&Ce.footerOnDarkBackground),"data-testid":"searchbox-footer"},null!==(D=de.flightSearch)&&void 0!==D&&D.shown&&null!==x&&void 0!==x&&x.moveFlightCheckbox?l().createElement(u.InputCheckbox,{defaultChecked:Boolean(de.flightSearch.checked),name:de.flightSearch.name,label:de.flightSearch.label,value:"flight",onChange:function(e){pe({type:se.FLIGHT_SEARCH_CHANGED,payload:e}),null===z||void 0===z||z(e,de,pe)}}):null,null!==(f=de.homesAndApartmentsFirst)&&void 0!==f&&f.shown?l().createElement(u.InputCheckbox,{defaultChecked:Boolean(de.homesAndApartmentsFirst.checked),name:de.homesAndApartmentsFirst.name,value:"1",label:de.homesAndApartmentsFirst.labelLong,onChange:function(e){pe({type:se.HOMES_AND_APARTMENTS_FIRST_CHANGED,payload:e}),null===W||void 0===W||W(e,de,pe)}}):null,null!==(T=de.travelPurpose)&&void 0!==T&&T.shown?l().createElement(u.InputCheckbox,{defaultChecked:Boolean(de.travelPurpose.checked),name:de.travelPurpose.name,label:de.travelPurpose.label,value:"business",onChange:function(e){pe({type:se.TRAVEL_PURPOSE_CHANGED,payload:e}),null===J||void 0===J||J(e,de,pe)}}):null,null===(v=de.flightSearch)||void 0===v||!v.shown||null!==x&&void 0!==x&&x.moveFlightCheckbox?null:l().createElement(u.InputCheckbox,{defaultChecked:Boolean(de.flightSearch.checked),name:de.flightSearch.name,label:de.flightSearch.label,value:"flight",onChange:function(e){pe({type:se.FLIGHT_SEARCH_CHANGED,payload:e}),null===z||void 0===z||z(e,de,pe)}}),null!==(A=de.showResultsOnTheMap)&&void 0!==A&&A.shown?l().createElement(u.InputCheckbox,{defaultChecked:Boolean(de.showResultsOnTheMap.checked),name:de.showResultsOnTheMap.name,value:"1",label:de.showResultsOnTheMap.label,onChange:function(e){pe({type:se.SHOW_ON_MAP_CHANGED,payload:e}),null===X||void 0===X||X(e,de,pe)}}):null),q?q({dispatch:pe,destinationFocus:function(){var e;return null===(e=Ee.current)||void 0===e?void 0:e.focus()}}):void 0,l().createElement(ue.Z,{fields:de.hiddenFields}))},ge=a("dc6d28ff"),Pe=a("28dbd132"),xe=a("d0fefcf5"),we=a("239beb17");(0,$.registerDynamicTags)((0,$.t)("date_format","fakeIndex","short_date_with_weekday_without_year"));var ke,Le,He,Fe,Re,Ge,Me,Be,Ze="short_date_with_weekday_without_year",Ue=a("107a8bb5"),Ve=a("81b96a0f"),Ke={MAPS_DATA_RETRIEVED:"CAPLA_EVENT_search-web_searchresults_MAPS_DATA_RETRIEVED",RESULTS_UPDATED:"CAPLA_EVENT_search-web_searchresults_RESULTS_UPDATED",SHOW_PRICES_CLICKED:"CAPLA_EVENT_search-web_searchresults_SHOW_PRICES_CLICKED",SORTERS_DATA_RETRIEVED:"CAPLA_EVENT_search-web_searchresults_SORTERS_DATA_RETRIEVED"},je=a("8ded1df4"),Ye=a("91b29112"),We=a("7311adbc"),Je=a("0835130d"),ze=a("0bf1d6ed"),Xe=a("cdfdb49e"),Qe=a("6ae86058"),qe={RESET_AND_FOCUS_DESTINATION_INPUT:"CAPLA_EVENT_search-web_searchresults_RESET_AND_FOCUS_DESTINATION_INPUT",OPEN_CALENDAR:"CAPLA_EVENT_search-web_searchresults_OPEN_CALENDAR"},$e={container:"e7dfd4b2fd",content:"e5e4c7245e"},et=a("017725b3"),tt=a("db87586a");var at,nt,ot,rt,lt,it,dt,st,ct,ut,pt,Et,_t=function(e){return e<10?"0".concat(e):"".concat(e)},ht=function(e){return e?"".concat(null===e||void 0===e?void 0:e.getFullYear(),"-").concat(_t((null===e||void 0===e?void 0:e.getMonth())+1),"-").concat(_t(null===e||void 0===e?void 0:e.getDate())):null},mt=function(e){var t=e.destinationId,a=e.destinationType,n=e.startDate,o=e.endDate,r=e.numAdults,l=e.childrenAges,i=ht(n),d=ht(o),s="".concat(r),c=l.join(","),u=null===a||void 0===a?void 0:a.toLowerCase(),p=/booking\.cn/.test(location.origin)?"booking.cn":"booking.com",E=/\.(?:dev|dqs)\.booking\.com/.test(location.origin)?location.origin:p,_="https://".concat(E,"/cross_sell_flights_redirect.html?ufi=").concat(t,"&num_adults=").concat(s);return i&&(_+="&start_date=".concat(i)),d&&(_+="&end_date=".concat(d)),c&&(_+="&children_ages=".concat(c)),u&&(_+="&destination_type=".concat(u)),_},Dt=function(e){var t=e.travelPurpose,a=e.flightSearch,n=e.homesAndApartmentsFirst,r=e.showResultsOnTheMap;!a||t||n||r||("index"===(0,Qe.Z)()&&(0,Pe.trackCustomGoal)((0,Pe.exp)(ke||(ke=(0,o.Z)(["aXTfOFJZMYeKTcABVYUfFdHMPVWCGTQJQJET"]))),1),"landingpage"===(0,Qe.Z)()&&(0,Pe.trackCustomGoal)((0,Pe.exp)(Le||(Le=(0,o.Z)(["aXTfOFJZMYeKTcABVYUfEFfVacDNEQEDC"]))),1)),a&&(t||n||r)&&("index"===(0,Qe.Z)()&&(0,Pe.trackCustomGoal)((0,Pe.exp)(He||(He=(0,o.Z)(["aXTfOFJZMYeKTcABVYUfFdHMPVWCGTQJQJET"]))),2),"landingpage"===(0,Qe.Z)()&&(0,Pe.trackCustomGoal)((0,Pe.exp)(Fe||(Fe=(0,o.Z)(["aXTfOFJZMYeKTcABVYUfEFfVacDNEQEDC"]))),2)),!a&&(t||n||r)&&("index"===(0,Qe.Z)()&&(0,Pe.trackCustomGoal)((0,Pe.exp)(Re||(Re=(0,o.Z)(["aXTfOFJZMYeKTcABVYUfFdHMPVWCGTQJQJET"]))),3),"landingpage"===(0,Qe.Z)()&&(0,Pe.trackCustomGoal)((0,Pe.exp)(Ge||(Ge=(0,o.Z)(["aXTfOFJZMYeKTcABVYUfEFfVacDNEQEDC"]))),3))},ft=["city","country","region"];function Tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function vt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var At=["landmark","airport","district"];function Ct(e){var t=e.version,a=void 0===t?"wide":t,n=e.searchParams,i=e.footerOnDarkBackground,d=void 0!==i&&i,s=(0,r.useRef)(),c=(0,r.useRef)(),u=(0,ze.i)(),p=(0,I.useI18n)(),E=(0,Qe.Z)(),_=(0,Pe.exp)(at||(at=(0,o.Z)(["ODRdLOLOLOCcMEfTLEPYNSGJLBWHHT"]))),h=(0,Pe.trackExperiment)(_),m="landingpage"===E,D="holidays"===E,f=(0,We.Z)({autoOpenCalendarForNoDates:"searchresults"===E&&!h,showDatesHintForNoDates:"searchresults"===E&&2===h,autoOpenCalendarAlways:m||D&&(0,Pe.trackExperiment)(Ye.d)>0}),T="searchresults"===E&&f.searchMeta&&!f.searchMeta.dates;!function(e,t){var a,n;e.destination&&!e.destination.value&&null!==t&&void 0!==t&&t.autocompleteOptions&&(e.destination.options=t.autocompleteOptions);var o=(0,tt.P)(t.i18n);null!==(a=e.date)&&void 0!==a&&a.start&&(e.date.start.daySelect={dayNames:o.dayNames},e.date.start.monthSelect={monthNames:o.monthNames}),null!==(n=e.date)&&void 0!==n&&n.end&&(e.date.end.daySelect={dayNames:o.dayNames},e.date.end.monthSelect={monthNames:o.monthNames}),"searchresults"===(0,Qe.Z)()&&(e.showResultsOnTheMap=void 0,e.homesAndApartmentsFirst=void 0,e.travelPurpose=void 0,e.flightSearch=void 0)}(f.state,{i18n:p,autocompleteOptions:u}),(0,r.useEffect)((function(){var e=function(){s.current&&s.current({type:se.DATE_OPENED,payload:{open:"start"}}),"scrollBehavior"in document.documentElement.style?window.scrollTo({top:0,left:0,behavior:"smooth"}):window.scrollTo(0,0)},t=xe.eventBus.subscribe(Ke.SHOW_PRICES_CLICKED,e),a=xe.eventBus.subscribe(qe.OPEN_CALENDAR,e),n=xe.eventBus.subscribe(qe.RESET_AND_FOCUS_DESTINATION_INPUT,(function(){var e;null===(e=c.current)||void 0===e||e.call(c),s.current&&s.current({type:se.DESTINATION_INPUT_CHANGED,payload:{value:"",method:"input-clear"}})}));return function(){xe.eventBus.unsubscribe(t),xe.eventBus.unsubscribe(a),xe.eventBus.unsubscribe(n)}}),[]),(0,r.useEffect)((function(){if(T&&h){var e=setTimeout((function(){var e;null===(e=s.current)||void 0===e||e.call(s,{type:se.DATE_HINT_VISIBILITY_STATE_CHANGED,payload:{shown:!0}})}),je.n1);return function(){clearTimeout(e)}}}),[h,T]);var v=(0,Pe.trackExperiment)((0,Pe.exp)(nt||(nt=(0,o.Z)(["TZUfdKNKNKZJANJHVVNaeCXLPKcLeKe"]))))>0,A="holidays"===E&&(0,Pe.trackExperiment)(Ye.C)>0,C=l().createElement(Se,{version:a,footerOnDarkBackground:d,localiseDate:function(e){return(0,Ue.p6)(p,{date:e,form:Ze})},formAction:(0,Xe.C$)().toString(),formTarget:A?"_blank":void 0,initialState:f.state,experimentalOptions:vt({destination:{autocompleteExtended:v},calendar:{keepCheckoutCalendarOpen:(0,Xe.en)(),calendarPosition:"condensed"===a?"right":void 0,keepCalendarOpenOnCookieBannerClick:!!m||void 0},moveFlightCheckbox:1===(0,Pe.trackExperiment)((0,Pe.exp)(ot||(ot=(0,o.Z)(["aXTfMZMYeKTcNGEcfFdHMPVUPHET"]))))},T&&2===h?{date:{onDateHintCloseByUser:function(){(0,Pe.trackCustomGoal)(_,3)},onDateHintCloseByTimeout:function(){(0,Pe.trackCustomGoal)(_,4)}}}:{}),onAutocompleteOptionSelect:function(e,t,a){var n=e.option;n.isGoogleResultNotResolved&&n.placeId&&((0,Pe.trackExperimentStage)((0,Pe.exp)(rt||(rt=(0,o.Z)(["bPFTMGCVFPPKNAPcHMaXDORMTfLT"]))),1),(0,Pe.trackExperiment)((0,Pe.exp)(lt||(lt=(0,o.Z)(["bPFTMGCVFPPKNAPcHMaXDORMTfLT"]))))?f.autocomplete.resolveSearchPlaceIdToLatLon(n.placeId,n.source):f.autocomplete.resolveGooglePlaceIdToLatLon(n.placeId)),"index"!==E&&"searchresults"!==E||a({type:se.HOMES_AND_APARTMENTS_FIRST_VISIBILITY_STATE_CHANGED,payload:{shown:Boolean(n.isHomesSearchEnabled)}}),a({type:se.MAX_LOS_UPDATED,payload:{maxLOS:n.maxLOS||je.Kt}}),-1===At.indexOf(n.destType)||n.metaMatchPropertyTypeId?a({type:se.SHOW_ON_MAP_VISIBILITY_STATE_CHANGED,payload:{shown:!1}}):(a({type:se.SHOW_ON_MAP_VISIBILITY_STATE_CHANGED,payload:{shown:!0}}),a({type:se.SHOW_ON_MAP_CHANGED,payload:{checked:!0}})),(0,Xe.vU)(n)},onDestinationFocus:function(e){null!==e&&void 0!==e&&e.target.value||!u||(0,Je.BJ)()},onDestinationChange:function(e,t,a){!e.value&&u?(f.autocomplete.setEnabled(!1),a({type:se.DESTINATION_OPTIONS_FETCHED,payload:{options:u}}),v&&a({type:se.DESTINATION_SECONDARY_OPTIONS_FETCHED,payload:{secondaryOptions:[]}})):f.autocomplete.setEnabled(!0),(0,Je.BJ)()},onDestinationChangeDebounced:function(e,t,a){var n=e.value;n&&f.autocomplete.getDestinations(n).then((function(e){e&&(a({type:se.DESTINATION_OPTIONS_FETCHED,payload:{options:e}}),v&&function(e){var t=e.dispatch,a=e.options,n=e.state,r=e.themesAutocomplete;t({type:se.DESTINATION_SECONDARY_OPTIONS_FETCHED,payload:{secondaryOptions:[]}});var l=a[0];2===(0,Pe.trackExperiment)((0,Pe.exp)(Me||(Me=(0,o.Z)(["TZUfdKNKNKZJANJHVVNaeCXLPKcLeKe"]))))&&(l=a.filter((function(e){return-1!==ft.indexOf(e.destType)}))[0]||l),l&&(l.placeId||r.getThemes({query:{guests:{totalAdults:n.occupancy.adults.value,totalChildren:n.occupancy.kids.value,childrenAges:n.occupancy.kidsAges.values},rooms:{total:n.occupancy.rooms.value},location:{locationCc1:l.cc1,locationId:Number(l.destId),locationType:(l.destType||et.z5K.NO_DEST_TYPE).toUpperCase()}}}).then((function(e){t({type:se.DESTINATION_SECONDARY_OPTIONS_FETCHED,payload:{secondaryOptions:e||[]}}),null!==e&&void 0!==e&&e.length&&(0,Pe.trackCustomGoal)((0,Pe.exp)(Be||(Be=(0,o.Z)(["TZUfdKNKNKZJANJHVVNaeCXLPKcLeKe"]))),1)})))}({options:e,themesAutocomplete:f.themesAutocomplete,dispatch:a,state:t}))}))},onCalendarOpen:function(e,t,a){T&&(0,Pe.trackCustomGoal)(_,1),(0,Je.JI)(),a({type:me.E.HIDDEN_FIELDS_CHANGED,payload:{efdco:{efdco:"1"}}}),"landingpage"===E&&((0,Pe.trackExperimentStage)((0,Pe.exp)(it||(it=(0,o.Z)(["TZUfdKNKNKPAJBHDTJIKPDUeQFaJeKe"]))),1),(0,Pe.trackExperimentStage)((0,Pe.exp)(dt||(dt=(0,o.Z)(["TZUfdKNKNKPAJBHDTJIKPDUeQFaJeKe"]))),2))},onTravelPurposeChange:function(){(0,Pe.trackGoal)("www_index_travel_for_work_checkbox_click")},onTabChange:function(e){"flexible"===e&&(0,Je.O$)()},onLongTermFlexibleDateChange:function(e){var t;"landingpage"===E&&null!==e&&void 0!==e&&e.duration&&null!==(t=e.months)&&void 0!==t&&t.size&&e.startDay&&(0,Pe.trackCustomGoal)((0,Pe.exp)(st||(st=(0,o.Z)(["TZUfdKNKNKPAJBHDTJIKPDUeQFaJeKe"]))),3)},onLongTermFlexibleDatesDoneButtonClick:function(){"landingpage"===E&&(0,Pe.trackCustomGoal)((0,Pe.exp)(ct||(ct=(0,o.Z)(["TZUfdKNKNKPAJBHDTJIKPDUeQFaJeKe"]))),2)},onSubmit:function(e,t){var a,r,l,i,d,s=e.errors,c=e.addHiddenFieldsAndSubmitTheFormAfter;if(s)(0,we.isFeatureRunning)((0,we.feature)(ut||(ut=(0,o.Z)(["cZbRAPPeEfWe"]))))&&(0,Ve.w7)(Ve._N.DATA_LAYER,Ve.Kg.SEARCH_ERROR,{errors:s,state:t});else{if(null!==(a=t.flightSearch)&&void 0!==a&&a.checked){var u,p,h,m,D,v,A,C;(0,ge.getRequestContext)().isRobotRequest()||(0,Pe.trackExperimentStage)((0,Pe.exp)(pt||(pt=(0,o.Z)(["aXTfOFJZMYeKTcABVYUfFdHMPVWCGTQJQJET"]))),3);var b=mt({destinationId:(null===(u=t.destination)||void 0===u||null===(p=u.option)||void 0===p?void 0:p.destId)||(null===(h=t.destination)||void 0===h||null===(m=h.options)||void 0===m?void 0:m[0].destId),destinationType:(null===(D=t.destination)||void 0===D||null===(v=D.option)||void 0===v?void 0:v.destType)||(null===(A=t.destination)||void 0===A||null===(C=A.options)||void 0===C?void 0:C[0].destType),startDate:t.date.start.date,endDate:t.date.end.date,numAdults:t.occupancy.adults.value,childrenAges:t.occupancy.kidsAges.values});window.open(b)}Dt({travelPurpose:null===(r=t.travelPurpose)||void 0===r?void 0:r.checked,flightSearch:null===(l=t.flightSearch)||void 0===l?void 0:l.checked,homesAndApartmentsFirst:null===(i=t.homesAndApartmentsFirst)||void 0===i?void 0:i.checked,showResultsOnTheMap:null===(d=t.showResultsOnTheMap)||void 0===d?void 0:d.checked});var N=(0,Xe.K0)(f.pageUrl,t);n&&(N.submit=vt(vt({},N.submit),n)),c(N),"index"===E&&(0,Pe.trackGoal)("www_index_search_button_click"),(0,we.isFeatureRunning)((0,we.feature)(Et||(Et=(0,o.Z)(["cZbRAPPeEfWe"]))))&&(0,Ve.w7)(Ve._N.DATA_LAYER,Ve.Kg.SEARCH,{state:t}),T&&(0,Pe.trackCustomGoal)(_,2),"holidays"===E&&(0,Pe.trackCustomGoal)(Ye.C,1)}},onOccupancyChange:function(e,t){(0,Je.O1)(e,t.occupancy.kids.value,f.previousSearchChildrenAges)},render:function(e){var t=e.dispatch,a=e.destinationFocus;s.current=t,c.current=a}});return(0,Xe.rP)()?l().createElement("div",{className:$e.container},l().createElement("div",{className:$e.content},C)):C}},"58a2abd5":function(e,t,a){a.d(t,{Z:function(){return o}});var n=a("f5a638cf");function o(e,t){if(null==e)return{};var a,o,r=(0,n.Z)(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)a=l[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}}}]);
//# sourceMappingURL=https://istatic.booking.com/internal-static/capla/static/js/8207c303.0b3390e1.chunk.js.map